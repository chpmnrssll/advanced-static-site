(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],[function(e,t,n){"use strict";var r={};n.r(r);n.d(r,"reversed",function(){return Te});n.d(r,"mirrored",function(){return Oe});n.d(r,"createReversedEasing",function(){return Re});n.d(r,"createMirroredEasing",function(){return Ee});n.d(r,"createExpoIn",function(){return Ie});n.d(r,"createBackIn",function(){return Le});n.d(r,"createAnticipateEasing",function(){return Me});n.d(r,"linear",function(){return ke});n.d(r,"easeIn",function(){return Be});n.d(r,"easeOut",function(){return He});n.d(r,"easeInOut",function(){return je});n.d(r,"circIn",function(){return Ne});n.d(r,"circOut",function(){return Ue});n.d(r,"circInOut",function(){return Fe});n.d(r,"backIn",function(){return De});n.d(r,"backOut",function(){return Qe});n.d(r,"backInOut",function(){return We});n.d(r,"anticipate",function(){return qe});n.d(r,"cubicBezier",function(){return ot});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var i=function(e,t){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return i(e,t)};function o(e,t){i(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var _=function(){_=Object.assign||function e(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o))t[o]=n[o]}return t};return _.apply(this,arguments)};function u(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)if(t.indexOf(r[i])<0)n[r[i]]=e[r[i]];return n}function a(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o;return i>3&&o&&Object.defineProperty(t,n,o),o}function s(n,r){return function(e,t){r(e,t,n)}}function c(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)}function l(o,a,s,u){return new(s||(s=Promise))(function(e,t){function n(e){try{i(u.next(e))}catch(e){t(e)}}function r(e){try{i(u["throw"](e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((u=u.apply(o,a||[])).next())})}function f(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,t;return t={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return u([t,e])}}function u(t){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,o&&(a=t[0]&2?o["return"]:t[0]?o["throw"]||((a=o["return"])&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;if(o=0,a)t=[t[0]&2,a.value];switch(t[0]){case 0:case 1:a=t;break;case 4:r.label++;return{value:t[1],done:false};case 5:r.label++;o=t[1];t=[0];continue;case 7:t=r.ops.pop();r.trys.pop();continue;default:if(!(a=r.trys,a=a.length>0&&a[a.length-1])&&(t[0]===6||t[0]===2)){r=0;continue}if(t[0]===3&&(!a||t[1]>a[0]&&t[1]<a[3])){r.label=t[1];break}if(t[0]===6&&r.label<a[1]){r.label=a[1];a=t;break}if(a&&r.label<a[2]){r.label=a[2];r.ops.push(t);break}if(a[2])r.ops.pop();r.trys.pop();continue}t=n.call(e,r)}catch(e){t=[6,e];o=0}finally{i=a=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:true}}}function d(e,t){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}function h(e){var t=typeof Symbol==="function"&&e[Symbol.iterator],n=0;if(t)return t.call(e);return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}}}function p(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{while((t===void 0||t-- >0)&&!(i=r.next()).done)o.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return o}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),o,a=[];return o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o;function r(r){if(i[r])o[r]=function(n){return new Promise(function(e,t){a.push([r,n,e,t])>1||s(r,n)})}}function s(e,t){try{u(i[e](t))}catch(e){f(a[0][3],e)}}function u(e){e.value instanceof g?Promise.resolve(e.value.v).then(c,l):f(a[0][2],e)}function c(e){s("next",e)}function l(e){s("throw",e)}function f(e,t){if(e(t),a.shift(),a.length)s(a[0][0],a[0][1])}}function m(r){var e,i;return e={},t("next"),t("throw",function(e){throw e}),t("return"),e[Symbol.iterator]=function(){return this},e;function t(t,n){e[t]=r[t]?function(e){return(i=!i)?{value:g(r[t](e)),done:t==="return"}:n?n(e):e}:n}}function S(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof h==="function"?h(i):i[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=i[r]&&function(n){return new Promise(function(e,t){n=i[r](n),o(e,t,n.done,n.value)})}}function o(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}}function w(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e}function b(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(Object.hasOwnProperty.call(e,n))t[n]=e[n];t.default=e;return t}function x(e){return e&&e.__esModule?e:{default:e}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var P=function(){P=Object.assign||function e(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o))t[o]=n[o]}return t};return P.apply(this,arguments)};var A=function(t,n){return function(e){return Math.max(Math.min(e,n),t)}};var C=function(t){return function(e){return typeof e==="string"&&e.indexOf(t)===0}};var V=function(e){return e.substring(e.indexOf("(")+1,e.lastIndexOf(")"))};var G=function(e){return typeof e==="string"?e.split(/,\s*/):[e]};var T=function(e){return e%1?Number(e.toFixed(5)):e};var O={test:function(e){return typeof e==="number"},parse:parseFloat,transform:function(e){return e}};var R=P({},O,{transform:A(0,1)});var E=P({},O,{default:1});var I=function(t){return{test:function(e){return typeof e==="string"&&e.endsWith(t)&&e.split(" ").length===1},parse:parseFloat,transform:function(e){return""+e+t}}};var L=I("deg");var M=I("%");var k=I("px");var B=I("vh");var H=I("vw");var j=A(0,255);var N=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i;var U=function(e){return e.red!==undefined};var F=function(e){return e.hue!==undefined};var D=function(i){var o=i.length;return function(e){if(typeof e!=="string")return e;var t={};var n=G(V(e));for(var r=0;r<o;r++){t[i[r]]=n[r]!==undefined?parseFloat(n[r]):1}return t}};var Q=function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,o=i===void 0?1:i;return"rgba("+t+", "+n+", "+r+", "+o+")"};var W=function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,o=i===void 0?1:i;return"hsla("+t+", "+n+", "+r+", "+o+")"};var q=P({},O,{transform:function(e){return Math.round(j(e))}});var z=C("rgb");var X={test:function(e){return typeof e==="string"?z(e):U(e)},parse:D(["red","green","blue","alpha"]),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha;return Q({red:q.transform(t),green:q.transform(n),blue:q.transform(r),alpha:T(i)})}};var Y=C("hsl");var Z={test:function(e){return typeof e==="string"?Y(e):F(e)},parse:D(["hue","saturation","lightness","alpha"]),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;return W({hue:Math.round(t),saturation:M.transform(T(n)),lightness:M.transform(T(r)),alpha:T(i)})}};var $=P({},X,{test:C("#"),parse:function(e){var t="";var n="";var r="";if(e.length>4){t=e.substr(1,2);n=e.substr(3,2);r=e.substr(5,2)}else{t=e.substr(1,1);n=e.substr(2,1);r=e.substr(3,1);t+=t;n+=n;r+=r}return{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:1}}});var K={test:function(e){return typeof e==="string"&&N.test(e)||X.test(e)||Z.test(e)||$.test(e)},parse:function(e){if(X.test(e)){return X.parse(e)}else if(Z.test(e)){return Z.parse(e)}else if($.test(e)){return $.parse(e)}return e},transform:function(e){if(U(e)){return X.transform(e)}else if(F(e)){return Z.transform(e)}return e}};var J=/(-)?(\d[\d\.]*)/g;var ee=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi;var te="${c}";var ne="${n}";var re={test:function(e){if(typeof e!=="string"||!isNaN(e))return false;var t=0;var n=e.match(J);var r=e.match(ee);if(n)t+=n.length;if(r)t+=r.length;return t>0},parse:function(e){var t=e;var n=[];var r=t.match(ee);if(r){t=t.replace(ee,te);n.push.apply(n,r.map(K.parse))}var i=t.match(J);if(i){n.push.apply(n,i.map(O.parse))}return n},createTransformer:function(e){var r=e;var i=0;var t=e.match(ee);var o=t?t.length:0;if(t){for(var n=0;n<o;n++){r=r.replace(t[n],te);i++}}var a=r.match(J);var s=a?a.length:0;if(a){for(var n=0;n<s;n++){r=r.replace(a[n],ne);i++}}return function(e){var t=r;for(var n=0;n<i;n++){t=t.replace(n<o?te:ne,n<o?K.transform(e[n]):T(e[n]))}return t}}};var ie="Hey, listen! ";var oe=function(){};var ae=function(){};if(false){}var se=0;var ue=typeof window!=="undefined"&&window.requestAnimationFrame!==undefined?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now();var n=Math.max(0,16.7-(t-se));se=t+n;setTimeout(function(){return e(se)},n)};var ce=function(r){var o=[];var a=[];var s=0;var u=false;var i=0;var c=new WeakSet;var l=new WeakSet;var f={cancel:function(e){var t=a.indexOf(e);c.add(e);if(t!==-1){a.splice(t,1)}},process:function(e){var t;u=true;t=[a,o],o=t[0],a=t[1];a.length=0;s=o.length;if(s){var n;for(i=0;i<s;i++){n=o[i];n(e);if(l.has(n)===true&&!c.has(n)){f.schedule(n);r(true)}}}u=false},schedule:function(e,t,n){if(t===void 0){t=false}if(n===void 0){n=false}ae(typeof e==="function","Argument must be a function");var r=n&&u;var i=r?o:a;c.delete(e);if(t)l.add(e);if(i.indexOf(e)===-1){i.push(e);if(r)s=o.length}}};return f};var le;(function(e){e["Read"]="read";e["Update"]="update";e["Render"]="render";e["PostRender"]="postRender";e["FixedUpdate"]="fixedUpdate"})(le||(le={}));var fe=40;var de=1/60*1e3;var he=true;var pe=false;var ve=false;var ge={delta:0,timestamp:0};var ye=[le.Read,le.Update,le.Render,le.PostRender];var me=function(e){return pe=e};var Se=ye.reduce(function(e,t){var r=ce(me);e.sync[t]=function(e,t,n){if(t===void 0){t=false}if(n===void 0){n=false}if(!pe)Ae();r.schedule(e,t,n);return e};e.cancelSync[t]=function(e){return r.cancel(e)};e.steps[t]=r;return e},{steps:{},sync:{},cancelSync:{}}),we=Se.steps,be=Se.sync,xe=Se.cancelSync;var _e=function(e){return we[e].process(ge)};var Pe=function(e){pe=false;ge.delta=he?de:Math.max(Math.min(e-ge.timestamp,fe),1);if(!he)de=ge.delta;ge.timestamp=e;ve=true;ye.forEach(_e);ve=false;if(pe){he=false;ue(Pe)}};var Ae=function(){pe=true;he=true;if(!ve)ue(Pe)};var Ce=function(){return ge};var Ve=be;var Ge=1.525;var Te=function(t){return function(e){return 1-t(1-e)}};var Oe=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}};var Re=Te;var Ee=Oe;var Ie=function(t){return function(e){return Math.pow(e,t)}};var Le=function(t){return function(e){return e*e*((t+1)*e-t)}};var Me=function(e){var t=Le(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}};var ke=function(e){return e};var Be=Ie(2);var He=Te(Be);var je=Oe(Be);var Ne=function(e){return 1-Math.sin(Math.acos(e))};var Ue=Te(Ne);var Fe=Oe(Ue);var De=Le(Ge);var Qe=Te(De);var We=Oe(De);var qe=Me(Ge);var ze=8;var Xe=.001;var Ye=1e-7;var Ze=10;var $e=11;var Ke=1/($e-1);var Je=typeof Float32Array!=="undefined";var et=function(e,t){return 1-3*t+3*e};var tt=function(e,t){return 3*t-6*e};var nt=function(e){return 3*e};var rt=function(e,t,n){return 3*et(t,n)*e*e+2*tt(t,n)*e+nt(t)};var it=function(e,t,n){return((et(t,n)*e+tt(t,n))*e+nt(t))*e};function ot(s,n,u,r){var c=Je?new Float32Array($e):new Array($e);var l=function(e,t,n){var r=0;var i;var o;do{o=t+(n-t)/2;i=it(o,s,u)-e;if(i>0){n=o}else{t=o}}while(Math.abs(i)>Ye&&++r<Ze);return o};var f=function(e,t){var n=0;var r=0;var i;for(;n<ze;++n){r=rt(t,s,u);if(r===0){return t}i=it(t,s,u)-e;t-=i/r}return t};var e=function(){for(var e=0;e<$e;++e){c[e]=it(e*Ke,s,u)}};var i=function(e){var t=0;var n=1;var r=$e-1;var i=0;var o=0;var a=0;for(;n!==r&&c[n]<=e;++n){t+=Ke}--n;i=(e-c[n])/(c[n+1]-c[n]);o=t+i*Ke;a=rt(o,s,u);if(a>=Xe){return f(e,o)}else if(a===0){return o}else{return l(e,t,t+Ke)}};e();var t=function(e){var t;if(s===n&&u===r){t=e}else if(e===0){t=0}else if(e===1){t=1}else{t=it(i(e),n,r)}return t};return t}var at={x:0,y:0,z:0};var st=function(e){return typeof e==="number"};var ut=function(e){return e*180/Math.PI};var ct=function(e,t){if(t===void 0){t=at}return ut(Math.atan2(t.y-e.y,t.x-e.x))};var lt=function(t,n){var r=true;if(n===undefined){n=t;r=false}return function(e){if(r){return e-t+n}else{t=e;r=true;return n}}};var ft=function(r){return function(t,n,e){return e!==undefined?r(t,n,e):function(e){return r(t,n,e)}}};var dt=function(e,t,n){return Math.min(Math.max(n,e),t)};var ht=ft(dt);var pt=function(t,n){return function(e){return t(e)?n(e):e}};var vt=function(e){return e*Math.PI/180};var gt=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")};var yt=function(e){return gt(e)&&e.hasOwnProperty("z")};var mt=function(e,t){return Math.abs(e-t)};var St=function(e,t){if(t===void 0){t=at}if(st(e)&&st(t)){return mt(e,t)}else if(gt(e)&&gt(t)){var n=mt(e.x,t.x);var r=mt(e.y,t.y);var i=yt(e)&&yt(t)?mt(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}return 0};var wt=function(e,t,n){var r=t-e;return r===0?1:(n-e)/r};var bt=function(e,t,n){return-n*e+n*t+e};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var xt=function(){xt=Object.assign||function e(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o))t[o]=n[o]}return t};return xt.apply(this,arguments)};var _t=function(e,t,n){var r=e*e;var i=t*t;return Math.sqrt(n*(i-r)+r)};var Pt=[$,X,Z];var At=function(t){return Pt.find(function(e){return e.test(t)})};var Ct=function(e,t){var n=At(e);var r=At(t);ae(n.transform===r.transform,"Both colors must be Hex and/or RGBA, or both must be HSLA");var i=n.parse(e);var o=r.parse(t);var a=xt({},i);var s=n===Z?bt:_t;return function(e){for(var t in a){if(t!=="alpha"){a[t]=s(i[t],o[t],e)}}a.alpha=bt(i.alpha,o.alpha,e);return n.transform(a)}};var Vt=function(t,n){return function(e){return n(t(e))}};var Gt=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e.reduce(Vt)};var Tt=function(e,r){var n=e.slice();var i=n.length;var o=e.map(function(t,e){var n=r[e];if(st(t)){return function(e){return bt(t,n,e)}}else if(K.test(t)){return Ct(t,n)}else{return Ot(t,n)}});return function(e){for(var t=0;t<i;t++){n[t]=o[t](e)}return n}};var Ot=function(e,t){var n=re.createTransformer(e);ae(n(e)===re.createTransformer(t)(e),"Values '"+e+"' and '"+t+"' are of different format, or a value might have changed value type.");return Gt(Tt(re.parse(e),re.parse(t)),n)};var Rt=ft(bt);var Et=function(e){return typeof e==="number"?Rt:K.test(e)?Ct:Ot};var It=function(i,o){return Array(i.length-1).fill(Et(i[0])).map(function(e,t){var n=e(i[t],i[t+1]);if(o){var r=Array.isArray(o)?o[t]:o;return Gt(r,n)}else{return n}})};var Lt=function(e,t){var n=e[0],r=e[1];var i=t[0];return function(e){return i(wt(n,r,e))}};var Mt=function(o,a){var s=o.length;var u=s-1;return function(e){var t=0;var n=false;if(e<=o[0]){n=true}else if(e>=o[u]){t=u-1;n=true}if(!n){var r=1;for(;r<s;r++){if(o[r]>e||r===u){break}}t=r-1}var i=wt(o[t],o[t+1],e);return a[t](i)}};var kt=function(e,t,n){var r=n===void 0?{}:n,i=r.clamp,o=i===void 0?true:i,a=r.ease;var s=e.length;ae(s===t.length,"Both input and output ranges must be the same length");ae(!a||!Array.isArray(a)||a.length===e.length-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.");if(e[0]>e[s-1]){e=e.slice();t=t.slice();e.reverse();t.reverse()}var u=It(t,a);var c=s===2?Lt(e,u):Mt(e,u);return o?Gt(ht(e[0],e[s-1]),c):c};var Bt=function(e,t,n){t=vt(t);return{x:n*Math.cos(t)+e.x,y:n*Math.sin(t)+e.y}};var Ht=function(e,t){if(t===void 0){t=2}t=Math.pow(10,t);return Math.round(e*t)/t};var jt=function(e,t,n,r){if(r===void 0){r=0}return Ht(e+n*(t-e)/Math.max(r,n))};var Nt=function(i){if(i===void 0){i=50}var o=0;var a=0;return function(e){var t=Ce().timestamp;var n=t!==a?t-a:0;var r=n?jt(o,e,n,i):o;a=t;o=r;return r}};var Ut=function(i){if(typeof i==="number"){return function(e){return Math.round(e/i)*i}}else{var o=0;var a=i.length;return function(e){var t=Math.abs(i[0]-e);for(o=1;o<a;o++){var n=i[o];var r=Math.abs(n-e);if(r===0)return n;if(r>t)return i[o-1];if(o===a-1)return n;t=r}}}};var Ft=function(e){return e};var Dt=function(o){if(o===void 0){o=Ft}return ft(function(e,t,n){var r=t-n;var i=-(0-e+1)*(0-o(Math.abs(r)));return r<=0?t+i:t-i})};var Qt=Dt();var Wt=Dt(Math.sqrt);var qt=function(e,t){return st(e)?e/(1e3/t):0};var zt=function(e,t){return t?e*(1e3/t):0};var Xt=function(e,t,n){var r=t-e;return((n-e)%r+r)%r+e};var Yt=ft(Xt);var Zt=ht(0,1);var $t=function(r,i){if(i===void 0){i="end"}return function(e){e=i==="end"?Math.min(e,.999):Math.max(e,.001);var t=e*r;var n=i==="end"?Math.floor(t):Math.ceil(t);return Zt(n/r)}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Kt=function(){Kt=Object.assign||function e(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o))t[o]=n[o]}return t};return Kt.apply(this,arguments)};function Jt(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)if(t.indexOf(r[i])<0)n[r[i]]=e[r[i]];return n}var en=function(e){var n=e.onRead,u=e.onRender,t=e.uncachedValues,c=t===void 0?new Set:t,r=e.useCache,l=r===void 0?true:r;return function(t){var r={};var i=[];var o=false;var a=function(e,t){var n=r[e];r[e]=t;if(r[e]!==n){if(i.indexOf(e)===-1){i.push(e)}if(!o){o=true;Ve.render(s)}}};function s(e){if(e===void 0){e=false}if(e===true||o){u(r,t,i);o=false;i.length=0}return this}return{get:function(e){return e?l&&!c.has(e)&&r[e]!==undefined?r[e]:n(e,t):r},set:function(t,e){if(typeof t==="string"){if(e!==undefined){a(t,e)}else{return function(e){return a(t,e)}}}else{for(var n in t){if(t.hasOwnProperty(n)){a(n,t[n])}}}return this},render:s}}};var tn=/([a-z])([A-Z])/g;var nn="$1-$2";var rn=function(e){return e.replace(tn,nn).toLowerCase()};var on=function(e,t){for(var n in t){if(t.hasOwnProperty(n)){e.setAttribute(n,t[n])}}};var an=new Map;var sn=new Map;var un=["Webkit","Moz","O","ms",""];var cn=un.length;var ln=typeof document!=="undefined";var fn;var dn=function(e,t){return sn.set(e,rn(t))};var hn=function(e){fn=fn||document.createElement("div");for(var t=0;t<cn;t++){var n=un[t];var r=n==="";var i=r?e:n+e.charAt(0).toUpperCase()+e.slice(1);if(i in fn.style||r){an.set(e,i);dn(e,""+(r?"":"-")+rn(i))}}};var pn=function(e){return dn(e,e)};var vn=function(e,t){if(t===void 0){t=false}var n=t?sn:an;if(!n.has(e))ln?hn(e):pn(e);return n.get(e)||e};var gn=["","X","Y","Z"];var yn=["scale","rotate","skew","transformPerspective"];var mn=yn.reduce(function(e,n){return gn.reduce(function(e,t){e.push(n+t);return e},e)},["x","y","z"]);var Sn=mn.reduce(function(e,t){e[t]=true;return e},{});var wn=function(e){return Sn[e]===true};var bn=function(e,t){return mn.indexOf(e)-mn.indexOf(t)};var xn=function(e){return e==="originX"||e==="originY"};var _n={color:K,backgroundColor:K,outlineColor:K,fill:K,stroke:K,borderColor:K,borderTopColor:K,borderRightColor:K,borderBottomColor:K,borderLeftColor:K,borderWidth:k,borderTopWidth:k,borderRightWidth:k,borderBottomWidth:k,borderLeftWidth:k,borderRadius:k,borderTopLeftRadius:k,borderTopRightRadius:k,borderBottomRightRadius:k,borderBottomLeftRadius:k,width:k,maxWidth:k,height:k,maxHeight:k,top:k,right:k,bottom:k,left:k,padding:k,paddingTop:k,paddingRight:k,paddingBottom:k,paddingLeft:k,margin:k,marginTop:k,marginRight:k,marginBottom:k,marginLeft:k,rotate:L,rotateX:L,rotateY:L,rotateZ:L,scale:E,scaleX:E,scaleY:E,scaleZ:E,skew:L,skewX:L,skewY:L,distance:k,x:k,y:k,z:k,perspective:k,opacity:R,originX:M,originY:M,originZ:k};var Pn=function(e){return _n[e]};var An="scrollLeft";var Cn="scrollTop";var Vn=new Set([An,Cn]);var Gn=new Set([An,Cn,"transform"]);var Tn={x:"translateX",y:"translateY",z:"translateZ"};var On=function(e){return typeof e==="function"};var Rn=function(e,t,n,r,i,o,a){if(t===void 0){t=true}if(n===void 0){n={}}if(r===void 0){r={}}if(i===void 0){i={}}if(o===void 0){o=[]}if(a===void 0){a=false}var s=true;var u=false;var c=false;for(var l in e){var f=e[l];var d=Pn(l);var h=typeof f==="number"&&d?d.transform(f):f;if(wn(l)){u=true;r[l]=h;o.push(l);if(s){if(d.default&&f!==d.default||!d.default&&f!==0){s=false}}}else if(xn(l)){i[l]=h;c=true}else if(!Gn.has(l)||!On(h)){n[vn(l,a)]=h}}if(!s){var p="";if(On(e.transform)){p=e.transform(r)}else{var v=false;o.sort(bn);var g=o.length;for(var y=0;y<g;y++){var l=o[y];p+=(Tn[l]||l)+"("+r[l]+") ";v=l==="z"?true:v}if(!v&&t){p+="translateZ(0)"}else{p=p.trim()}}n.transform=p}else if(u){n.transform="none"}if(c){n.transformOrigin=(i.originX||0)+" "+(i.originY||0)+" "+(i.originZ||0)}return n};var En=function(t){if(t===void 0){t=true}var n={};var r={};var i={};var o=[];return function(e){o.length=0;Rn(e,t,n,r,i,o,true);return n}};var In=en({onRead:function(e,t){var n=t.element,r=t.preparseOutput;var i=Pn(e);if(wn(e)){return i?i.default||0:0}else if(Vn.has(e)){return n[e]}else{var o=window.getComputedStyle(n,null).getPropertyValue(vn(e,true))||0;return r&&i&&i.parse?i.parse(o):o}},onRender:function(e,t,n){var r=t.element,i=t.buildStyles;Object.assign(r.style,i(e));if(n.indexOf(An)!==-1)r.scrollLeft=e.scrollLeft;if(n.indexOf(Cn)!==-1)r.scrollTop=e.scrollTop},uncachedValues:Vn});var Ln=function(e,t){if(t===void 0){t={}}var n=t.enableHardwareAcceleration,r=Jt(t,["enableHardwareAcceleration"]);return In(Kt({element:e,buildStyles:En(n),preparseOutput:true},r))};var Mn=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]);var kn=1e-7;var Bn=function(e,t){return e/100*t+"px"};var Hn=function(e,t,n,r){var i=false;var o=false;var a={};var s=n?{pathLength:"0",pathSpacing:""+r}:undefined;var u=e.scale!==undefined?e.scale||kn:e.scaleX||1;var c=e.scaleY!==undefined?e.scaleY||kn:u||1;var l=t.width*((e.originX||50)/100)+t.x;var f=t.height*((e.originY||50)/100)+t.y;var d=-l*(u*1);var h=-f*(c*1);var p=l/u;var v=f/c;var g={translate:"translate("+e.x+", "+e.y+") ",scale:"translate("+d+", "+h+") scale("+u+", "+c+") translate("+p+", "+v+") ",rotate:"rotate("+e.rotate+", "+l+", "+f+") ",skewX:"skewX("+e.skewX+") ",skewY:"skewY("+e.skewY+") "};for(var y in e){if(e.hasOwnProperty(y)){var m=e[y];if(wn(y)){i=true}else if(n&&(y==="pathLength"||y==="pathSpacing")&&typeof m==="number"){o=true;s[y]=Bn(m,r)}else if(n&&y==="pathOffset"){a["stroke-dashoffset"]=Bn(-m,r)}else{var S=!Mn.has(y)?rn(y):y;a[S]=m}}}if(o){a["stroke-dasharray"]=s.pathLength+" "+s.pathSpacing}if(i){a.transform="";for(var y in g){if(g.hasOwnProperty(y)){var w=y==="scale"?"1":"0";a.transform+=g[y].replace(/undefined/g,w)}}}return a};var jn=Kt({},O,{transform:Math.round});var Nn={fill:K,stroke:K,scale:E,scaleX:E,scaleY:E,opacity:R,fillOpacity:R,strokeOpacity:R,numOctaves:jn};var Un=function(e){return Nn[e]};var Fn=function(e){return typeof e.getBBox==="function"?e.getBBox():e.getBoundingClientRect()};var Dn=function(e){try{return Fn(e)}catch(e){return{x:0,y:0,width:0,height:0}}};var Qn=en({onRead:function(e,t){var n=t.element;if(!wn(e)){return n.getAttribute(e)}else{var r=Un(e);return r?r.default:0}},onRender:function(e,t){var n=t.dimensions,r=t.element,i=t.isPath,o=t.pathLength;on(r,Hn(e,n,i,o))}});var Wn=function(e){var t=Dn(e);var n={element:e,dimensions:t,isPath:false};if(e.tagName==="path"){n.isPath=true;n.pathLength=e.getTotalLength()}return Qn(n)};var qn=en({useCache:false,onRead:function(e){return e==="scrollTop"?window.pageYOffset:window.pageXOffset},onRender:function(e){var t=e.scrollTop,n=t===void 0?0:t,r=e.scrollLeft,i=r===void 0?0:r;return window.scrollTo(i,n)}});var zn=new WeakMap;var Xn=function(e,t){var n;if(e instanceof HTMLElement){n=Ln(e,t)}else if(e instanceof SVGElement){n=Wn(e)}else if(e===window){n=qn(e)}ae(n!==undefined,"No valid node provided. Node must be HTMLElement, SVGElement or window.");zn.set(e,n);return n};var Yn=function(e,t){return zn.has(e)?zn.get(e):Xn(e,t)};function Zn(e,t){var n=typeof e==="string"?document.querySelector(e):e;return Yn(n,t)}var $n=Zn;n.d(t,"b",function(){return Wr});n.d(t,"d",function(){return Nr});n.d(t,"a",function(){return r});n.d(t,"c",function(){return $n});var Kn=function(){function e(e){if(e===void 0){e={}}this.props=e}e.prototype.applyMiddleware=function(e){return this.create(_({},this.props,{middleware:this.props.middleware?[e].concat(this.props.middleware):[e]}))};e.prototype.pipe=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var n=e.length===1?e[0]:Gt.apply(void 0,e);return this.applyMiddleware(function(t){return function(e){return t(n(e))}})};e.prototype.while=function(r){return this.applyMiddleware(function(t,n){return function(e){return r(e)?t(e):n()}})};e.prototype.filter=function(n){return this.applyMiddleware(function(t){return function(e){return n(e)&&t(e)}})};return e}();var Jn=function(){function e(e,t){var n=e.middleware,r=e.onComplete;var i=this;this.isActive=true;this.update=function(e){if(i.observer.update)i.updateObserver(e)};this.complete=function(){if(i.observer.complete&&i.isActive)i.observer.complete();if(i.onComplete)i.onComplete();i.isActive=false};this.error=function(e){if(i.observer.error&&i.isActive)i.observer.error(e);i.isActive=false};this.observer=t;this.updateObserver=function(e){return t.update(e)};this.onComplete=r;if(t.update&&n&&n.length){n.forEach(function(e){return i.updateObserver=e(i.updateObserver,i.complete)})}}return e}();var er=function(e,t,n){var r=t.middleware;if(typeof e==="function"){return new Jn({middleware:r,onComplete:n},{update:e})}else{return new Jn({middleware:r,onComplete:n},e)}};var tr=function(e){o(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.create=function(e){return new t(e)};t.prototype.start=function(e){if(e===void 0){e={}}var t=false;var n={stop:function(){return undefined}};var r=this.props,i=r.init,o=u(r,["init"]);var a=er(e,o,function(){t=true;n.stop()});var s=i(a);n=s?_({},n,s):n;if(e.registerParent){e.registerParent(n)}if(t)n.stop();return n};return t}(Kn);var nr=function(e){return new tr({init:e})};var rr=function(t){o(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.subscribers=[];return e}e.prototype.complete=function(){this.subscribers.forEach(function(e){return e.complete()})};e.prototype.error=function(t){this.subscribers.forEach(function(e){return e.error(t)})};e.prototype.update=function(e){for(var t=0;t<this.subscribers.length;t++){this.subscribers[t].update(e)}};e.prototype.subscribe=function(e){var t=this;var n=er(e,this.props);this.subscribers.push(n);var r={unsubscribe:function(){var e=t.subscribers.indexOf(n);if(e!==-1)t.subscribers.splice(e,1)}};return r};e.prototype.stop=function(){if(this.parent)this.parent.stop()};e.prototype.registerParent=function(e){this.stop();this.parent=e};return e}(Kn);var ir=function(e){o(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.create=function(e){return new t(e)};return t}(rr);var or=function(){return new ir};var ar=function(e,t){var n=1/(e-1);var r=1/(2*(e-1));var i=Math.min(t,1);var o=i/r;var a=Math.floor((o+1)/2);return a*n};var sr=Object.freeze({angle:ct,degreesToRadians:vt,distance:St,isPoint3D:yt,isPoint:gt,dilate:bt,getValueFromProgress:bt,pointFromAngleAndDistance:Bt,getProgressFromValue:wt,radiansToDegrees:ut,smooth:jt,speedPerFrame:qt,speedPerSecond:zt,stepProgress:ar});var ur=function(e){return Array.isArray(e)};var cr=function(e){var t=typeof e;return t==="string"||t==="number"};var lr=function(i){o(t,i);function t(e){var n=i.call(this,e)||this;n.scheduleVelocityCheck=function(){return Ve.postRender(n.velocityCheck)};n.velocityCheck=function(e){var t=e.timestamp;if(t!==n.lastUpdated){n.prev=n.current}};n.prev=n.current=e.value||0;if(cr(n.current)){n.updateCurrent=function(e){return n.current=e};n.getVelocityOfCurrent=function(){return n.getSingleVelocity(n.current,n.prev)}}else if(ur(n.current)){n.updateCurrent=function(e){return n.current=e.slice()};n.getVelocityOfCurrent=function(){return n.getListVelocity()}}else{n.updateCurrent=function(e){n.current={};for(var t in e){if(e.hasOwnProperty(t)){n.current[t]=e[t]}}};n.getVelocityOfCurrent=function(){return n.getMapVelocity()}}if(e.initialSubscription)n.subscribe(e.initialSubscription);return n}t.prototype.create=function(e){return new t(e)};t.prototype.get=function(){return this.current};t.prototype.getVelocity=function(){return this.getVelocityOfCurrent()};t.prototype.update=function(e){i.prototype.update.call(this,e);this.prev=this.current;this.updateCurrent(e);var t=Ce(),n=t.delta,r=t.timestamp;this.timeDelta=n;this.lastUpdated=r;Ve.postRender(this.scheduleVelocityCheck)};t.prototype.subscribe=function(e){var t=i.prototype.subscribe.call(this,e);this.subscribers[this.subscribers.length-1].update(this.current);return t};t.prototype.getSingleVelocity=function(e,t){return typeof e==="number"&&typeof t==="number"?zt(e-t,this.timeDelta):zt(parseFloat(e)-parseFloat(t),this.timeDelta)||0};t.prototype.getListVelocity=function(){var n=this;return this.current.map(function(e,t){return n.getSingleVelocity(e,n.prev[t])})};t.prototype.getMapVelocity=function(){var e={};for(var t in this.current){if(this.current.hasOwnProperty(t)){e[t]=this.getSingleVelocity(this.current[t],this.prev[t])}}return e};return t}(rr);var fr=function(e,t){return new lr({value:e,initialSubscription:t})};var dr=function(e){var l=e.getCount,f=e.getFirst,d=e.getOutput,h=e.mapApi,p=e.setProp,v=e.startActions;return function(c){return nr(function(e){var t=e.update,r=e.complete,i=e.error;var o=l(c);var a=d();var s=function(){return t(a)};var u=0;var n=v(c,function(e,t){var n=false;return e.start({complete:function(){if(!n){n=true;u++;if(u===o)Ve.update(r)}},error:i,update:function(e){p(a,t,e);Ve.update(s,false,true)}})});return Object.keys(f(n)).reduce(function(e,t){e[t]=h(n,t);return e},{})})}};var hr=dr({getOutput:function(){return{}},getCount:function(e){return Object.keys(e).length},getFirst:function(e){return e[Object.keys(e)[0]]},mapApi:function(i,o){return function(){var r=[];for(var e=0;e<arguments.length;e++){r[e]=arguments[e]}return Object.keys(i).reduce(function(e,t){var n;if(i[t][o]){r[0]&&r[0][t]!==undefined?e[t]=i[t][o](r[0][t]):e[t]=(n=i[t])[o].apply(n,r)}return e},{})}},setProp:function(e,t,n){return e[t]=n},startActions:function(n,r){return Object.keys(n).reduce(function(e,t){e[t]=r(n[t],t);return e},{})}});var pr=dr({getOutput:function(){return[]},getCount:function(e){return e.length},getFirst:function(e){return e[0]},mapApi:function(t,r){return function(){var n=[];for(var e=0;e<arguments.length;e++){n[e]=arguments[e]}return t.map(function(e,t){if(e[r]){return Array.isArray(n[0])?e[r](n[0][t]):e[r].apply(e,n)}})}},setProp:function(e,t,n){return e[t]=n},startActions:function(e,n){return e.map(function(e,t){return n(e,t)})}});var vr=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return pr(e)};var gr=function(n){var e=Object.keys(n);var r=function(e,t){return e!==undefined&&!n[t](e)};var t=function(n){return e.reduce(function(e,t){if(r(n[t],t))e.push(t);return e},[])};var i=function(t){return t&&e.some(function(e){return r(t[e],e)})};return{getVectorKeys:t,testVectorProps:i}};var yr=[k,M,L,B,H];var mr=function(t){return yr.find(function(e){return e.test(t)})};var Sr=function(e){return Boolean(mr(e))};var wr=function(e,t){return e(t)};var br=function(n){return function(e,t){e[t]=e[t][n];return e}};var xr=function(r,i,o){var e=o[0];var t=i[e].map(function(e,t){var n=o.reduce(br(t),_({},i));return Tr(e)(r,n)});return vr.apply(void 0,t)};var _r=function(n){return function(e,t){e[t]=e[t][n];return e}};var Pr=function(r,i,o){var a=o[0];var e=Object.keys(i[a]).reduce(function(e,t){var n=o.reduce(_r(t),_({},i));e[t]=Tr(i[a][t])(r,n);return e},{});return hr(e)};var Ar=function(e,t){var n=t.from,r=t.to,i=u(t,["from","to"]);var o=mr(n)||mr(r);var a=o.transform,s=o.parse;return e(_({},i,{from:typeof n==="string"?s(n):n,to:typeof r==="string"?s(r):r})).pipe(a)};var Cr=function(e,t){var n=t.from,r=t.to,i=u(t,["from","to"]);return e(_({},i,{from:0,to:1})).pipe(Ct(n,r),K.transform)};var Vr=function(e,t){var n=t.from,r=t.to,i=u(t,["from","to"]);var o=re.createTransformer(n);ae(o(n)===re.createTransformer(r)(n),"Values '"+n+"' and '"+r+"' are of different format, or a value might have changed value type.");return e(_({},i,{from:0,to:1})).pipe(Tt(re.parse(n),re.parse(r)),o)};var Gr=function(o,e){var t=gr(e),a=t.testVectorProps,s=t.getVectorKeys;var n=function(e){var t=a(e);if(!t)return o(e);var n=s(e);var r=n[0];var i=e[r];return Tr(i)(o,e,n)};return n};var Tr=function(e){var t=wr;if(typeof e==="number"){t=wr}else if(Array.isArray(e)){t=xr}else if(Sr(e)){t=Ar}else if(K.test(e)){t=Cr}else if(re.test(e)){t=Vr}else if(typeof e==="object"){t=Pr}return t};var Or=function(S){if(S===void 0){S={}}return nr(function(e){var o=e.complete,a=e.update;var t=S.velocity,n=t===void 0?0:t,r=S.from,i=r===void 0?0:r,s=S.power,u=s===void 0?.8:s,c=S.timeConstant,l=c===void 0?350:c,f=S.restDelta,d=f===void 0?.5:f,h=S.modifyTarget;var p=0;var v=u*n;var g=Math.round(i+v);var y=typeof h==="undefined"?g:h(g);var m=Ve.update(function(e){var t=e.delta;p+=t;var n=-v*Math.exp(-p/l);var r=n>d||n<-d;var i=r?y+n:y;a(i);if(!r){xe.update(m);o()}},true);return{stop:function(){return xe.update(m)}}})};var Rr=Gr(Or,{from:O.test,modifyTarget:function(e){return typeof e==="function"},velocity:O.test});var Er=function(A){if(A===void 0){A={}}return nr(function(e){var u=e.update,c=e.complete;var t=A.velocity,l=t===void 0?0:t;var n=A.from,r=n===void 0?0:n,i=A.to,f=i===void 0?0:i,o=A.stiffness,d=o===void 0?100:o,a=A.damping,h=a===void 0?10:a,s=A.mass,p=s===void 0?1:s,v=A.restSpeed,g=v===void 0?.01:v,y=A.restDelta,m=y===void 0?.01:y;var S=l?-(l/1e3):0;var w=0;var b=f-r;var x=r;var _=x;var P=Ve.update(function(e){var t=e.delta;w+=t;var n=h/(2*Math.sqrt(d*p));var r=Math.sqrt(d/p)/1e3;_=x;if(n<1){var i=Math.exp(-n*r*w);var o=r*Math.sqrt(1-n*n);x=f-i*((S+n*r*b)/o*Math.sin(o*w)+b*Math.cos(o*w))}else{var i=Math.exp(-r*w);x=f-i*(b+(S+r*b)*w)}l=zt(x-_,t);var a=Math.abs(l)<=g;var s=Math.abs(f-x)<=m;if(a&&s){x=f;u(x);xe.update(P);c()}else{u(x)}},true);return{stop:function(){return xe.update(P)}}})};var Ir=Gr(Er,{from:O.test,to:O.test,stiffness:O.test,damping:O.test,mass:O.test,velocity:O.test});var Lr=function(e){var t=e.from,h=t===void 0?0:t,n=e.velocity,p=n===void 0?0:n,v=e.min,g=e.max,r=e.power,y=r===void 0?.8:r,i=e.timeConstant,m=i===void 0?700:i,o=e.bounceStiffness,S=o===void 0?500:o,a=e.bounceDamping,w=a===void 0?10:a,s=e.restDelta,b=s===void 0?1:s,x=e.modifyTarget;return nr(function(e){var n=e.update,r=e.complete;var i=fr(h);var o;var a=false;var s=function(e){return v!==undefined&&e<=v};var u=function(e){return g!==undefined&&e>=g};var t=function(e){return s(e)||u(e)};var c=function(e,t){return s(e)&&t<0||u(e)&&t>0};var l=function(e,t){o&&o.stop();o=e.start({update:function(e){return i.update(e)},complete:function(){r();t&&t()}})};var f=function(e){a=true;l(Ir(_({},e,{to:s(e.from)?v:g,stiffness:S,damping:w,restDelta:b})))};i.subscribe(function(e){n(e);var t=i.getVelocity();if(o&&!a&&c(e,t)){f({from:e,velocity:t})}});if(t(h)&&p===0||c(h,p)){f({from:h,velocity:p})}else if(p!==0){var d=Rr({from:h,velocity:p,timeConstant:m,power:y,restDelta:t(h)?20:b,modifyTarget:x});l(d,function(){var e=i.get();if(t(e)){f({from:e,velocity:i.getVelocity()})}})}else{r()}return{stop:function(){return o&&o.stop()}}})};var Mr=Gr(Lr,{from:O.test,velocity:O.test,min:O.test,max:O.test,damping:O.test,stiffness:O.test,modifyTarget:function(e){return typeof e==="function"}});var kr=function(){return nr(function(e){var n=e.update;var r=0;var t=Ve.update(function(e){var t=e.timestamp;if(!r)r=t;n(t-r)},true,true);return{stop:function(){return xe.update(t)}}})};var Br=function(e){var t=e.from,n=t===void 0?0:t,r=e.to,i=r===void 0?1:r,o=e.ease,a=o===void 0?ke:o;return nr(function(e){var t=e.update;return{seek:function(e){return t(e)}}}).pipe(a,function(e){return bt(n,i,e)})};var Hr=Gr(Br,{ease:function(e){return typeof e==="function"},from:O.test,to:O.test});var jr=ht(0,1);var Nr=function(k){if(k===void 0){k={}}return nr(function(e){var r=e.update,n=e.complete;var t=k.duration,i=t===void 0?300:t,o=k.ease,a=o===void 0?He:o,s=k.flip,u=s===void 0?0:s,c=k.loop,l=c===void 0?0:c,f=k.yoyo,d=f===void 0?0:f;var h=k.from,p=h===void 0?0:h,v=k.to,g=v===void 0?1:v,y=k.elapsed,m=y===void 0?0:y,S=k.playDirection,w=S===void 0?1:S,b=k.flipCount,x=b===void 0?0:b,_=k.yoyoCount,P=_===void 0?0:_,A=k.loopCount,C=A===void 0?0:A;var V=Hr({from:p,to:g,ease:a}).start(r);var G=0;var T;var O=false;var R=function(){if(m>i){var e=m-i;m=m-e*2}else if(m<0){var e=-1*m;m=m+e*2}w*=-1};var E=function(){var e;var t=w===1?O&&m>=i:O&&m<=0;if(!t)return false;if(t&&!l&&!u&&!d)return true;var n=false;if(l&&C<l){m=i-m;C++;n=true}else if(u&&x<u){m=i-m;e=[g,p],p=e[0],g=e[1];V=Hr({from:p,to:g,ease:a}).start(r);x++;n=true}else if(d&&P<d){R();P++;n=true}return!n};var I=function(){G=jr(wt(0,i,m));V.seek(G)};var L=function(){O=true;T=Ve.update(function(e){var t=e.delta;m+=t*w;I();if(E()&&n){xe.update(T);Ve.update(n,false,true)}},true)};var M=function(){O=false;if(T)xe.update(T)};L();return{isActive:function(){return O},getElapsed:function(){return ht(0,i,m)},getProgress:function(){return G},stop:function(){M()},pause:function(){M();return this},resume:function(){if(!O)L();return this},seek:function(e){m=bt(0,i,e);Ve.update(I,false,true);return this},reverse:function(){R();return this}}})};var Ur=ht(0,1);var Fr=function(e,t){return e.map(function(){return t||He}).splice(0,e.length-1)};var Dr=function(e){var n=e.length;return e.map(function(e,t){return t!==0?t/(n-1):0})};var Qr=function(r,e,t){var i=r.length;var o=i-1;var a=o-1;var s=e.map(function(e){return e.start(t)});return function(e){if(e<=r[0]){s[0].seek(0)}if(e>=r[o]){s[a].seek(1)}var t=1;for(;t<i;t++){if(r[t]>e||t===o)break}var n=wt(r[t-1],r[t],e);s[t-1].seek(Ur(n))}};var Wr=function(e){var t=e.easings,n=e.ease,r=n===void 0?ke:n,i=e.times,o=e.values,a=u(e,["easings","ease","times","values"]);t=Array.isArray(t)?t:Fr(o,t);i=i||Dr(o);var s=t.map(function(e,t){return Hr({from:o[t],to:o[t+1],ease:e})});return Nr(_({},a,{ease:r})).applyMiddleware(function(e){return Qr(i,s,e)})};var qr=function(y){if(y===void 0){y={}}return nr(function(e){var o=e.complete,a=e.update;var t=y.acceleration,s=t===void 0?0:t,n=y.friction,u=n===void 0?0:n,r=y.velocity,c=r===void 0?0:r,l=y.springStrength,f=y.to;var i=y.restSpeed,d=i===void 0?.001:i,h=y.from,p=h===void 0?0:h;var v=p;var g=Ve.update(function(e){var t=e.delta;var n=Math.max(t,16);if(s)c+=qt(s,n);if(u)c*=Math.pow(1-u,n/100);if(l!==undefined&&f!==undefined){var r=f-v;c+=r*qt(l,n)}v+=qt(c,n);a(v);var i=d!==false&&(!c||Math.abs(c)<=d);if(i){xe.update(g);o()}},true);return{set:function(e){v=e;return this},setAcceleration:function(e){s=e;return this},setFriction:function(e){u=e;return this},setSpringStrength:function(e){l=e;return this},setSpringTarget:function(e){f=e;return this},setVelocity:function(e){c=e;return this},stop:function(){return xe.update(g)}}})};var zr=Gr(qr,{acceleration:O.test,friction:O.test,velocity:O.test,from:O.test,to:O.test,springStrength:O.test});var Xr=300;var Yr=function(e){var r=[];var t=e[e.length-1];var n=typeof t==="number";var i=n?t:0;var o=n?e.slice(0,-1):e;var a=o.length;var s=0;o.forEach(function(e,t){r.push(e);if(t!==a-1){var n=e.duration||Xr;s+=i;r.push("-"+(n-s))}});return r};var Zr=function(e,t){Array.isArray(t)?e.push.apply(e,Yr(t)):e.push(t);return e};var $r=function(e,t,n){var r=e.duration,i=e.easings,o=e.times,a=e.values;var s=a.length;var u=o[s-1];var c=t.at===0?0:t.at/r;var l=(t.at+t.duration)/r;if(n===0){a.push(t.from);o.push(c)}else{if(u!==c){if(t.from!==undefined){a.push(a[s-1]);o.push(c);i.push(ke)}var f=t.from!==undefined?t.from:a[s-1];a.push(f);o.push(c);i.push(ke)}else if(t.from!==undefined){a.push(t.from);o.push(c);i.push(ke)}}a.push(t.to);o.push(l);i.push(t.ease||je);return e};var Kr=function(e,t){var n=t===void 0?{}:t,r=n.duration,i=n.elapsed,o=n.ease,a=n.loop,s=n.flip,u=n.yoyo;var c=0;var l=0;var f=e.reduce(Zr,[]);var d=[];f.forEach(function(e){if(typeof e==="string"){c+=parseFloat(e)}else if(typeof e==="number"){c=e}else{var t=_({},e,{at:c});t.duration=t.duration===undefined?Xr:t.duration;d.push(t);c+=t.duration;l=Math.max(l,t.at+t.duration)}});var h={};var p=d.length;for(var v=0;v<p;v++){var g=d[v];var y=g.track;if(y===undefined){throw new Error("No track defined")}if(!h.hasOwnProperty(y))h[y]=[];h[y].push(g)}var m={};for(var S in h){if(h.hasOwnProperty(S)){var w=h[S].reduce($r,{duration:l,easings:[],times:[],values:[]});m[S]=Wr(_({},w,{duration:r||l,ease:o,elapsed:i,loop:a,yoyo:u,flip:s}))}}return hr(m)};var Jr=function(r,i,o){return nr(function(e){var t=e.update;var n=i.split(" ").map(function(e){r.addEventListener(e,t,o);return e});return{stop:function(){return n.forEach(function(e){return r.removeEventListener(e,t,o)})}}})};var ei=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}};var ti=function(e,t){if(t===void 0){t=ei()}t.clientX=t.x=e.clientX;t.clientY=t.y=e.clientY;t.pageX=e.pageX;t.pageY=e.pageY;return t};var ni=[ei()];var ri=false;if(typeof document!=="undefined"){var ii=function(e){var t=e.touches;ri=true;var n=t.length;ni.length=0;for(var r=0;r<n;r++){var i=t[r];ni.push(ti(i))}};Jr(document,"touchstart touchmove",{passive:true,capture:true}).start(ii)}var oi=function(e){var t=e===void 0?{}:e,n=t.preventDefault,f=n===void 0?true:n,r=t.scale,d=r===void 0?1:r,i=t.rotate,h=i===void 0?0:i;return nr(function(e){var i=e.update;var o={touches:ni,scale:d,rotate:h};var a=0;var s=0;var u=ni.length>1;if(u){var t=ni[0],n=ni[1];a=St(t,n);s=ct(t,n)}var r=function(){if(u){var e=ni[0],t=ni[1];var n=St(e,t);var r=ct(e,t);o.scale=d*(n/a);o.rotate=h+(r-s)}i(o)};var c=function(e){if(f||e.touches.length>1)e.preventDefault();Ve.update(r)};var l=Jr(document,"touchmove",{passive:!f}).start(c);if(ri)Ve.update(r);return{stop:function(){xe.update(r);l.stop()}}})};var ai=function(){return ri};var si=ei();var ui=false;if(typeof document!=="undefined"){var ci=function(e){ui=true;ti(e,si)};Jr(document,"mousedown mousemove",true).start(ci)}var li=function(e){var t=(e===void 0?{}:e).preventDefault,o=t===void 0?true:t;return nr(function(e){var t=e.update;var n=function(){return t(si)};var r=function(e){if(o)e.preventDefault();Ve.update(n)};var i=Jr(document,"mousemove").start(r);if(ui)Ve.update(n);return{stop:function(){xe.update(n);i.stop()}}})};var fi=function(e){var t=e[0];return t};var di=function(e){if(e===void 0){e={}}return ai()?oi(e).pipe(function(e){var t=e.touches;return t},fi):li(e)};var hi=function(e){if(e===void 0){e={}}var t=e.x,n=e.y,r=u(e,["x","y"]);if(t!==undefined||n!==undefined){var i=lt(t||0);var o=lt(n||0);var a={x:0,y:0};return di(r).pipe(function(e){a.x=i(e.x);a.y=o(e.y);return a})}else{return di(r)}};var pi=function(){var a=[];for(var e=0;e<arguments.length;e++){a[e]=arguments[e]}return nr(function(e){var t=e.update,n=e.complete;var r=0;var i;var o=function(){i=a[r].start({complete:function(){r++;r>=a.length?n():o()},update:t})};o();return{stop:function(){return i&&i.stop()}}})};var vi=function(t,n){return nr(function(r){var i=0;var e=vr(t,n).start(_({},r,{update:function(e){var t=e[0],n=e[1];r.update(bt(t,n,i))}}));return{setBalance:function(e){return i=e},stop:function(){return e.stop()}}})};var gi=function(r){return nr(function(e){var t=e.complete;var n=setTimeout(t,r);return{stop:function(){return clearTimeout(n)}}})};var yi=function(){var n=[];for(var e=0;e<arguments.length;e++){n[e]=arguments[e]}return nr(function(t){var e=n.map(function(e){return e.start(t)});return{stop:function(){return e.forEach(function(e){return e.stop()})}}})};var mi=function(a,s){return nr(function(e){var t=e.update,n=e.complete;var r;var i=a.start({update:function(){return r!==undefined&&t(r)},complete:n});var o=s.start({update:function(e){return r=e},complete:n});return{stop:function(){i.stop();o.stop()}}})};var Si=function(e,r){var i=typeof r==="number";var t=e.map(function(e,t){var n=i?r*t:r(t);return pi(gi(n),e)});return vr.apply(void 0,t)};var wi=function(t){return function(e){return""+e+t}};var bi=function(n,r,i){if(r===void 0){r=0}if(i===void 0){i=1}return function(e){var t=wt(r,i,e);return bt(r,i,ar(n,t))}};var xi=function(i){return function(e){var t=_({},e);for(var n in i){if(i.hasOwnProperty(n)){var r=i[n];t[n]=r(e[n])}}return t}};var _i=Object.freeze({applyOffset:lt,clamp:ht,conditional:pt,interpolate:kt,blendArray:Tt,blendColor:Ct,pipe:Gt,smooth:Nt,snap:Ut,generateStaticSpring:Dt,nonlinearSpring:Wt,linearSpring:Qt,wrap:Yt,appendUnit:wi,steps:bi,transformMap:xi});var Pi=function(e,t){oe(false,"css() is deprecated, use styler instead");return $n(e,t)};var Ai=function(e,t){oe(false,"svg() is deprecated, use styler instead");return $n(e,t)}},function(n,e,t){(function(M){(function(e,t){true?n.exports=t():undefined})(this,function(){"use strict";var l=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"};var o=g;var e=a;var t=i;var n=s;var r=v;var S=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e){var t=[];var n=0;var r=0;var i="";var o;while((o=S.exec(e))!=null){var a=o[0];var s=o[1];var u=o.index;i+=e.slice(r,u);r=u+a.length;if(s){i+=s[1];continue}if(i){t.push(i);i=""}var c=o[2];var l=o[3];var f=o[4];var d=o[5];var h=o[6];var p=o[7];var v=h==="+"||h==="*";var g=h==="?"||h==="*";var y=c||"/";var m=f||d||(p?".*":"[^"+y+"]+?");t.push({name:l||n++,prefix:c||"",delimiter:y,optional:g,repeat:v,pattern:w(m)})}if(r<e.length){i+=e.substr(r)}if(i){t.push(i)}return t}function i(e){return s(a(e))}function s(u){var c=new Array(u.length);for(var e=0;e<u.length;e++){if(typeof u[e]==="object"){c[e]=new RegExp("^"+u[e].pattern+"$")}}return function(e){var t="";var n=e||{};for(var r=0;r<u.length;r++){var i=u[r];if(typeof i==="string"){t+=i;continue}var o=n[i.name];var a;if(o==null){if(i.optional){continue}else{throw new TypeError('Expected "'+i.name+'" to be defined')}}if(l(o)){if(!i.repeat){throw new TypeError('Expected "'+i.name+'" to not repeat, but received "'+o+'"')}if(o.length===0){if(i.optional){continue}else{throw new TypeError('Expected "'+i.name+'" to not be empty')}}for(var s=0;s<o.length;s++){a=encodeURIComponent(o[s]);if(!c[r].test(a)){throw new TypeError('Expected all "'+i.name+'" to match "'+i.pattern+'", but received "'+a+'"')}t+=(s===0?i.prefix:i.delimiter)+a}continue}a=encodeURIComponent(o);if(!c[r].test(a)){throw new TypeError('Expected "'+i.name+'" to match "'+i.pattern+'", but received "'+a+'"')}t+=i.prefix+a}return t}}function f(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function w(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){e.keys=t;return e}function d(e){return e.sensitive?"":"i"}function c(e,t){var n=e.source.match(/\((?!\?)/g);if(n){for(var r=0;r<n.length;r++){t.push({name:r,prefix:null,delimiter:null,optional:false,repeat:false,pattern:null})}}return u(e,t)}function h(e,t,n){var r=[];for(var i=0;i<e.length;i++){r.push(g(e[i],t,n).source)}var o=new RegExp("(?:"+r.join("|")+")",d(n));return u(o,t)}function p(e,t,n){var r=a(e);var i=v(r,n);for(var o=0;o<r.length;o++){if(typeof r[o]!=="string"){t.push(r[o])}}return u(i,t)}function v(e,t){t=t||{};var n=t.strict;var r=t.end!==false;var i="";var o=e[e.length-1];var a=typeof o==="string"&&/\/$/.test(o);for(var s=0;s<e.length;s++){var u=e[s];if(typeof u==="string"){i+=f(u)}else{var c=f(u.prefix);var l=u.pattern;if(u.repeat){l+="(?:"+c+l+")*"}if(u.optional){if(c){l="(?:"+c+"("+l+"))?"}else{l="("+l+")?"}}else{l=c+"("+l+")"}i+=l}}if(!n){i=(a?i.slice(0,-2):i)+"(?:\\/(?=$))?"}if(r){i+="$"}else{i+=n&&a?"":"(?=\\/|$)"}return new RegExp("^"+i,d(t))}function g(e,t,n){t=t||[];if(!l(t)){n=t;t=[]}else if(!n){n={}}if(e instanceof RegExp){return c(e,t,n)}if(l(e)){return h(e,t,n)}return p(e,t,n)}o.parse=e;o.compile=t;o.tokensToFunction=n;o.tokensToRegExp=r;var y="undefined"!==typeof document;var m="undefined"!==typeof window;var b="undefined"!==typeof history;var x=typeof M!=="undefined";var _=y&&document.ontouchstart?"touchstart":"click";var P=m&&!!(window.history.location||window.location);function A(){this.callbacks=[];this.exits=[];this.current="";this.len=0;this._decodeURLComponents=true;this._base="";this._strict=false;this._running=false;this._hashbang=false;this.clickHandler=this.clickHandler.bind(this);this._onpopstate=this._onpopstate.bind(this)}A.prototype.configure=function(e){var t=e||{};this._window=t.window||m&&window;this._decodeURLComponents=t.decodeURLComponents!==false;this._popstate=t.popstate!==false&&m;this._click=t.click!==false&&y;this._hashbang=!!t.hashbang;var n=this._window;if(this._popstate){n.addEventListener("popstate",this._onpopstate,false)}else if(m){n.removeEventListener("popstate",this._onpopstate,false)}if(this._click){n.document.addEventListener(_,this.clickHandler,false)}else if(y){n.document.removeEventListener(_,this.clickHandler,false)}if(this._hashbang&&m&&!b){n.addEventListener("hashchange",this._onpopstate,false)}else if(m){n.removeEventListener("hashchange",this._onpopstate,false)}};A.prototype.base=function(e){if(0===arguments.length)return this._base;this._base=e};A.prototype._getBase=function(){var e=this._base;if(!!e)return e;var t=m&&this._window&&this._window.location;if(m&&this._hashbang&&t&&t.protocol==="file:"){e=t.pathname}return e};A.prototype.strict=function(e){if(0===arguments.length)return this._strict;this._strict=e};A.prototype.start=function(e){var t=e||{};this.configure(t);if(false===t.dispatch)return;this._running=true;var n;if(P){var r=this._window;var i=r.location;if(this._hashbang&&~i.hash.indexOf("#!")){n=i.hash.substr(2)+i.search}else if(this._hashbang){n=i.search+i.hash}else{n=i.pathname+i.search+i.hash}}this.replace(n,null,true,t.dispatch)};A.prototype.stop=function(){if(!this._running)return;this.current="";this.len=0;this._running=false;var e=this._window;this._click&&e.document.removeEventListener(_,this.clickHandler,false);m&&e.removeEventListener("popstate",this._onpopstate,false);m&&e.removeEventListener("hashchange",this._onpopstate,false)};A.prototype.show=function(e,t,n,r){var i=new O(e,t,this),o=this.prevContext;this.prevContext=i;this.current=i.path;if(false!==n)this.dispatch(i,o);if(false!==i.handled&&false!==r)i.pushState();return i};A.prototype.back=function(e,t){var n=this;if(this.len>0){var r=this._window;b&&r.history.back();this.len--}else if(e){setTimeout(function(){n.show(e,t)})}else{setTimeout(function(){n.show(n._getBase(),t)})}};A.prototype.redirect=function(e,t){var n=this;if("string"===typeof e&&"string"===typeof t){V.call(this,e,function(e){setTimeout(function(){n.replace(t)},0)})}if("string"===typeof e&&"undefined"===typeof t){setTimeout(function(){n.replace(e)},0)}};A.prototype.replace=function(e,t,n,r){var i=new O(e,t,this),o=this.prevContext;this.prevContext=i;this.current=i.path;i.init=n;i.save();if(false!==r)this.dispatch(i,o);return i};A.prototype.dispatch=function(t,n){var r=0,i=0,o=this;function a(){var e=o.exits[i++];if(!e)return s();e(n,a)}function s(){var e=o.callbacks[r++];if(t.path!==o.current){t.handled=false;return}if(!e)return G.call(o,t);e(t,s)}if(n){a()}else{s()}};A.prototype.exit=function(e,t){if(typeof e==="function"){return this.exit("*",e)}var n=new R(e,null,this);for(var r=1;r<arguments.length;++r){this.exits.push(n.middleware(arguments[r]))}};A.prototype.clickHandler=function(e){if(1!==this._which(e))return;if(e.metaKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;var t=e.target;var n=e.path||(e.composedPath?e.composedPath():null);if(n){for(var r=0;r<n.length;r++){if(!n[r].nodeName)continue;if(n[r].nodeName.toUpperCase()!=="A")continue;if(!n[r].href)continue;t=n[r];break}}while(t&&"A"!==t.nodeName.toUpperCase())t=t.parentNode;if(!t||"A"!==t.nodeName.toUpperCase())return;var i=typeof t.href==="object"&&t.href.constructor.name==="SVGAnimatedString";if(t.hasAttribute("download")||t.getAttribute("rel")==="external")return;var o=t.getAttribute("href");if(!this._hashbang&&this._samePath(t)&&(t.hash||"#"===o))return;if(o&&o.indexOf("mailto:")>-1)return;if(i?t.target.baseVal:t.target)return;if(!i&&!this.sameOrigin(t.href))return;var a=i?t.href.baseVal:t.pathname+t.search+(t.hash||"");a=a[0]!=="/"?"/"+a:a;if(x&&a.match(/^\/[a-zA-Z]:\//)){a=a.replace(/^\/[a-zA-Z]:\//,"/")}var s=a;var u=this._getBase();if(a.indexOf(u)===0){a=a.substr(u.length)}if(this._hashbang)a=a.replace("#!","");if(u&&s===a&&(!P||this._window.location.protocol!=="file:")){return}e.preventDefault();this.show(s)};A.prototype._onpopstate=function(){var o=false;if(!m){return function(){}}if(y&&document.readyState==="complete"){o=true}else{window.addEventListener("load",function(){setTimeout(function(){o=true},0)})}return function e(t){if(!o)return;var n=this;if(t.state){var r=t.state.path;n.replace(r,t.state)}else if(P){var i=n._window.location;n.show(i.pathname+i.search+i.hash,undefined,undefined,false)}}}();A.prototype._which=function(e){e=e||m&&this._window.event;return null==e.which?e.button:e.which};A.prototype._toURL=function(e){var t=this._window;if(typeof URL==="function"&&P){return new URL(e,t.location.toString())}else if(y){var n=t.document.createElement("a");n.href=e;return n}};A.prototype.sameOrigin=function(e){if(!e||!P)return false;var t=this._toURL(e);var n=this._window;var r=n.location;return r.protocol===t.protocol&&r.hostname===t.hostname&&r.port===t.port};A.prototype._samePath=function(e){if(!P)return false;var t=this._window;var n=t.location;return e.pathname===n.pathname&&e.search===n.search};A.prototype._decodeURLEncodedURIComponent=function(e){if(typeof e!=="string"){return e}return this._decodeURLComponents?decodeURIComponent(e.replace(/\+/g," ")):e};function C(){var t=new A;function e(){return V.apply(t,arguments)}e.callbacks=t.callbacks;e.exits=t.exits;e.base=t.base.bind(t);e.strict=t.strict.bind(t);e.start=t.start.bind(t);e.stop=t.stop.bind(t);e.show=t.show.bind(t);e.back=t.back.bind(t);e.redirect=t.redirect.bind(t);e.replace=t.replace.bind(t);e.dispatch=t.dispatch.bind(t);e.exit=t.exit.bind(t);e.configure=t.configure.bind(t);e.sameOrigin=t.sameOrigin.bind(t);e.clickHandler=t.clickHandler.bind(t);e.create=C;Object.defineProperty(e,"len",{get:function(){return t.len},set:function(e){t.len=e}});Object.defineProperty(e,"current",{get:function(){return t.current},set:function(e){t.current=e}});e.Context=O;e.Route=R;return e}function V(e,t){if("function"===typeof e){return V.call(this,"*",e)}if("function"===typeof t){var n=new R(e,null,this);for(var r=1;r<arguments.length;++r){this.callbacks.push(n.middleware(arguments[r]))}}else if("string"===typeof e){this["string"===typeof t?"redirect":"show"](e,t)}else{this.start(e)}}function G(e){if(e.handled)return;var t;var n=this;var r=n._window;if(n._hashbang){t=P&&this._getBase()+r.location.hash.replace("#!","")}else{t=P&&r.location.pathname+r.location.search}if(t===e.canonicalPath)return;n.stop();e.handled=false;P&&(r.location.href=e.canonicalPath)}function T(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function O(e,t,n){var r=this.page=n||V;var i=r._window;var o=r._hashbang;var a=r._getBase();if("/"===e[0]&&0!==e.indexOf(a))e=a+(o?"#!":"")+e;var s=e.indexOf("?");this.canonicalPath=e;var u=new RegExp("^"+T(a));this.path=e.replace(u,"")||"/";if(o)this.path=this.path.replace("#!","")||"/";this.title=y&&i.document.title;this.state=t||{};this.state.path=e;this.querystring=~s?r._decodeURLEncodedURIComponent(e.slice(s+1)):"";this.pathname=r._decodeURLEncodedURIComponent(~s?e.slice(0,s):e);this.params={};this.hash="";if(!o){if(!~this.path.indexOf("#"))return;var c=this.path.split("#");this.path=this.pathname=c[0];this.hash=r._decodeURLEncodedURIComponent(c[1])||"";this.querystring=this.querystring.split("#")[0]}}O.prototype.pushState=function(){var e=this.page;var t=e._window;var n=e._hashbang;e.len++;if(b){t.history.pushState(this.state,this.title,n&&this.path!=="/"?"#!"+this.path:this.canonicalPath)}};O.prototype.save=function(){var e=this.page;if(b){e._window.history.replaceState(this.state,this.title,e._hashbang&&this.path!=="/"?"#!"+this.path:this.canonicalPath)}};function R(e,t,n){var r=this.page=n||E;var i=t||{};i.strict=i.strict||n._strict;this.path=e==="*"?"(.*)":e;this.method="GET";this.regexp=o(this.path,this.keys=[],i)}R.prototype.middleware=function(n){var r=this;return function(e,t){if(r.match(e.path,e.params))return n(e,t);t()}};R.prototype.match=function(e,t){var n=this.keys,r=e.indexOf("?"),i=~r?e.slice(0,r):e,o=this.regexp.exec(decodeURIComponent(i));if(!o)return false;for(var a=1,s=o.length;a<s;++a){var u=n[a-1];var c=this.page._decodeURLEncodedURIComponent(o[a]);if(c!==undefined||!hasOwnProperty.call(t,u.name)){t[u.name]=c}}return true};var E=C();var I=E;var L=E;I.default=L;return I})}).call(this,t(4))},function(e,t,n){"use strict";var m={letter:"",word:" "};var r=function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.a11y,i=r===void 0?true:r,o=n.delimeter,a=o===void 0?"letter":o,s=n.each,u=s===void 0?null:s,c=n.element,l=c===void 0?"span":c;var f=!t.children.length&&t.textContent;if(!f){throw new Error("text-split: target must have text content, and no children.")}var d=[];var h=t.textContent.split(m[a]);var p=document.createDocumentFragment();var v=h.length;var g;var y;for(g=0;g<v;g++){y=document.createElement(l);y.textContent=h[g];if(i)y.setAttribute("aria-hidden","true");if(u)u(y,g);d.push(y);p.appendChild(y)}if(i)t.setAttribute("aria-label",t.textContent);t.innerHTML="";t.appendChild(p);return d};t["a"]=r},,function(e,t){var n=e.exports={};var r;var i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=o}}catch(e){r=o}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=a}}catch(e){i=a}})();function s(t){if(r===setTimeout){return setTimeout(t,0)}if((r===o||!r)&&setTimeout){r=setTimeout;return setTimeout(t,0)}try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function u(t){if(i===clearTimeout){return clearTimeout(t)}if((i===a||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(t)}try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}var c=[];var l=false;var f;var d=-1;function h(){if(!l||!f){return}l=false;if(f.length){c=f.concat(c)}else{d=-1}if(c.length){p()}}function p(){if(l){return}var e=s(h);l=true;var t=c.length;while(t){f=c;c=[];while(++d<t){if(f){f[d].run()}}d=-1;t=c.length}f=null;l=false;u(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}c.push(new v(e,t));if(c.length===1&&!l){s(p)}};function v(e,t){this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function g(){}n.on=g;n.addListener=g;n.once=g;n.off=g;n.removeListener=g;n.removeAllListeners=g;n.emit=g;n.prependListener=g;n.prependOnceListener=g;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){if(typeof window==="object")n=window}e.exports=n},,function(n,e,t){(function(r){var f;var f;(function(e){if(true){n.exports=e()}else{var t}})(function(){var e,t,n;return function(){function l(o,a,s){function u(n,e){if(!a[n]){if(!o[n]){var t="function"==typeof f&&f;if(!e&&t)return f(n,!0);if(c)return c(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[n]={exports:{}};o[n][0].call(i.exports,function(e){var t=o[n][1][e];return u(t||e)},i,i.exports,l,o,a,s)}return a[n].exports}for(var c="function"==typeof f&&f,e=0;e<s.length;e++)u(s[e]);return u}return l}()({1:[function(e,t,n){var c={};t.exports=c;var l=e("../geometry/Vertices");var f=e("../geometry/Vector");var i=e("../core/Sleeping");var r=e("../render/Render");var o=e("../core/Common");var d=e("../geometry/Bounds");var h=e("../geometry/Axes");(function(){c._inertiaScale=4;c._nextCollidingGroupId=1;c._nextNonCollidingGroupId=-1;c._nextCategory=1;c.create=function(e){var t={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:false,isStatic:false,isSleeping:false,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:true,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0}};var n=o.extend(t,e);r(n,e);return n};c.nextGroup=function(e){if(e)return c._nextNonCollidingGroupId--;return c._nextCollidingGroupId++};c.nextCategory=function(){c._nextCategory=c._nextCategory<<1;return c._nextCategory};var r=function(e,t){t=t||{};c.set(e,{bounds:e.bounds||d.create(e.vertices),positionPrev:e.positionPrev||f.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e});l.rotate(e.vertices,e.angle,e.position);h.rotate(e.axes,e.angle);d.update(e.bounds,e.vertices,e.velocity);c.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#2e2b44":o.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]),r="#000";e.render.fillStyle=e.render.fillStyle||n;e.render.strokeStyle=e.render.strokeStyle||r;e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x);e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};c.set=function(e,t,n){var r;if(typeof t==="string"){r=t;t={};t[r]=n}for(r in t){n=t[r];if(!t.hasOwnProperty(r))continue;switch(r){case"isStatic":c.setStatic(e,n);break;case"isSleeping":i.set(e,n);break;case"mass":c.setMass(e,n);break;case"density":c.setDensity(e,n);break;case"inertia":c.setInertia(e,n);break;case"vertices":c.setVertices(e,n);break;case"position":c.setPosition(e,n);break;case"angle":c.setAngle(e,n);break;case"velocity":c.setVelocity(e,n);break;case"angularVelocity":c.setAngularVelocity(e,n);break;case"parts":c.setParts(e,n);break;default:e[r]=n}}};c.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var r=e.parts[n];r.isStatic=t;if(t){r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia};r.restitution=0;r.friction=1;r.mass=r.inertia=r.density=Infinity;r.inverseMass=r.inverseInertia=0;r.positionPrev.x=r.position.x;r.positionPrev.y=r.position.y;r.anglePrev=r.angle;r.angularVelocity=0;r.speed=0;r.angularSpeed=0;r.motion=0}else if(r._original){r.restitution=r._original.restitution;r.friction=r._original.friction;r.mass=r._original.mass;r.inertia=r._original.inertia;r.density=r._original.density;r.inverseMass=r._original.inverseMass;r.inverseInertia=r._original.inverseInertia;delete r._original}}};c.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=n*(t/6);e.inverseInertia=1/e.inertia;e.mass=t;e.inverseMass=1/e.mass;e.density=e.mass/e.area};c.setDensity=function(e,t){c.setMass(e,t*e.area);e.density=t};c.setInertia=function(e,t){e.inertia=t;e.inverseInertia=1/e.inertia};c.setVertices=function(e,t){if(t[0].body===e){e.vertices=t}else{e.vertices=l.create(t,e)}e.axes=h.fromVertices(e.vertices);e.area=l.area(e.vertices);c.setMass(e,e.density*e.area);var n=l.centre(e.vertices);l.translate(e.vertices,n,-1);c.setInertia(e,c._inertiaScale*l.inertia(e.vertices,e.mass));l.translate(e.vertices,e.position);d.update(e.bounds,e.vertices,e.velocity)};c.setParts=function(e,t,n){var r;t=t.slice(0);e.parts.length=0;e.parts.push(e);e.parent=e;for(r=0;r<t.length;r++){var i=t[r];if(i!==e){i.parent=e;e.parts.push(i)}}if(e.parts.length===1)return;n=typeof n!=="undefined"?n:true;if(n){var o=[];for(r=0;r<t.length;r++){o=o.concat(t[r].vertices)}l.clockwiseSort(o);var a=l.hull(o),s=l.centre(a);c.setVertices(e,a);l.translate(e.vertices,s)}var u=c._totalProperties(e);e.area=u.area;e.parent=e;e.position.x=u.centre.x;e.position.y=u.centre.y;e.positionPrev.x=u.centre.x;e.positionPrev.y=u.centre.y;c.setMass(e,u.mass);c.setInertia(e,u.inertia);c.setPosition(e,u.centre)};c.setPosition=function(e,t){var n=f.sub(t,e.position);e.positionPrev.x+=n.x;e.positionPrev.y+=n.y;for(var r=0;r<e.parts.length;r++){var i=e.parts[r];i.position.x+=n.x;i.position.y+=n.y;l.translate(i.vertices,n);d.update(i.bounds,i.vertices,e.velocity)}};c.setAngle=function(e,t){var n=t-e.angle;e.anglePrev+=n;for(var r=0;r<e.parts.length;r++){var i=e.parts[r];i.angle+=n;l.rotate(i.vertices,n,e.position);h.rotate(i.axes,n);d.update(i.bounds,i.vertices,e.velocity);if(r>0){f.rotateAbout(i.position,n,e.position,i.position)}}};c.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x;e.positionPrev.y=e.position.y-t.y;e.velocity.x=t.x;e.velocity.y=t.y;e.speed=f.magnitude(e.velocity)};c.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t;e.angularVelocity=t;e.angularSpeed=Math.abs(e.angularVelocity)};c.translate=function(e,t){c.setPosition(e,f.add(e.position,t))};c.rotate=function(e,t,n){if(!n){c.setAngle(e,e.angle+t)}else{var r=Math.cos(t),i=Math.sin(t),o=e.position.x-n.x,a=e.position.y-n.y;c.setPosition(e,{x:n.x+(o*r-a*i),y:n.y+(o*i+a*r)});c.setAngle(e,e.angle+t)}};c.scale=function(e,t,n,r){var i=0,o=0;r=r||e.position;for(var a=0;a<e.parts.length;a++){var s=e.parts[a];l.scale(s.vertices,t,n,r);s.axes=h.fromVertices(s.vertices);s.area=l.area(s.vertices);c.setMass(s,e.density*s.area);l.translate(s.vertices,{x:-s.position.x,y:-s.position.y});c.setInertia(s,c._inertiaScale*l.inertia(s.vertices,s.mass));l.translate(s.vertices,{x:s.position.x,y:s.position.y});if(a>0){i+=s.area;o+=s.inertia}s.position.x=r.x+(s.position.x-r.x)*t;s.position.y=r.y+(s.position.y-r.y)*n;d.update(s.bounds,s.vertices,e.velocity)}if(e.parts.length>1){e.area=i;if(!e.isStatic){c.setMass(e,e.density*i);c.setInertia(e,o)}}if(e.circleRadius){if(t===n){e.circleRadius*=t}else{e.circleRadius=null}}};c.update=function(e,t,n,r){var i=Math.pow(t*n*e.timeScale,2);var o=1-e.frictionAir*n*e.timeScale,a=e.position.x-e.positionPrev.x,s=e.position.y-e.positionPrev.y;e.velocity.x=a*o*r+e.force.x/e.mass*i;e.velocity.y=s*o*r+e.force.y/e.mass*i;e.positionPrev.x=e.position.x;e.positionPrev.y=e.position.y;e.position.x+=e.velocity.x;e.position.y+=e.velocity.y;e.angularVelocity=(e.angle-e.anglePrev)*o*r+e.torque/e.inertia*i;e.anglePrev=e.angle;e.angle+=e.angularVelocity;e.speed=f.magnitude(e.velocity);e.angularSpeed=Math.abs(e.angularVelocity);for(var u=0;u<e.parts.length;u++){var c=e.parts[u];l.translate(c.vertices,e.velocity);if(u>0){c.position.x+=e.velocity.x;c.position.y+=e.velocity.y}if(e.angularVelocity!==0){l.rotate(c.vertices,e.angularVelocity,e.position);h.rotate(c.axes,e.angularVelocity);if(u>0){f.rotateAbout(c.position,e.angularVelocity,e.position,c.position)}}d.update(c.bounds,c.vertices,e.velocity)}};c.applyForce=function(e,t,n){e.force.x+=n.x;e.force.y+=n.y;var r={x:t.x-e.position.x,y:t.y-e.position.y};e.torque+=r.x*n.y-r.y*n.x};c._totalProperties=function(e){var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}};for(var n=e.parts.length===1?0:1;n<e.parts.length;n++){var r=e.parts[n],i=r.mass!==Infinity?r.mass:1;t.mass+=i;t.area+=r.area;t.inertia+=r.inertia;t.centre=f.add(t.centre,f.mult(r.position,i))}t.centre=f.div(t.centre,t.mass);return t}})()},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31}],2:[function(e,t,n){var f={};t.exports=f;var a=e("../core/Events");var o=e("../core/Common");var s=e("../geometry/Bounds");var d=e("./Body");(function(){f.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:false,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)};f.setModified=function(e,t,n,r){e.isModified=t;if(n&&e.parent){f.setModified(e.parent,t,n,r)}if(r){for(var i=0;i<e.composites.length;i++){var o=e.composites[i];f.setModified(o,t,n,r)}}};f.add=function(e,t){var n=[].concat(t);a.trigger(e,"beforeAdd",{object:t});for(var r=0;r<n.length;r++){var i=n[r];switch(i.type){case"body":if(i.parent!==i){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}f.addBody(e,i);break;case"constraint":f.addConstraint(e,i);break;case"composite":f.addComposite(e,i);break;case"mouseConstraint":f.addConstraint(e,i.constraint);break}}a.trigger(e,"afterAdd",{object:t});return e};f.remove=function(e,t,n){var r=[].concat(t);a.trigger(e,"beforeRemove",{object:t});for(var i=0;i<r.length;i++){var o=r[i];switch(o.type){case"body":f.removeBody(e,o,n);break;case"constraint":f.removeConstraint(e,o,n);break;case"composite":f.removeComposite(e,o,n);break;case"mouseConstraint":f.removeConstraint(e,o.constraint);break}}a.trigger(e,"afterRemove",{object:t});return e};f.addComposite=function(e,t){e.composites.push(t);t.parent=e;f.setModified(e,true,true,false);return e};f.removeComposite=function(e,t,n){var r=o.indexOf(e.composites,t);if(r!==-1){f.removeCompositeAt(e,r);f.setModified(e,true,true,false)}if(n){for(var i=0;i<e.composites.length;i++){f.removeComposite(e.composites[i],t,true)}}return e};f.removeCompositeAt=function(e,t){e.composites.splice(t,1);f.setModified(e,true,true,false);return e};f.addBody=function(e,t){e.bodies.push(t);f.setModified(e,true,true,false);return e};f.removeBody=function(e,t,n){var r=o.indexOf(e.bodies,t);if(r!==-1){f.removeBodyAt(e,r);f.setModified(e,true,true,false)}if(n){for(var i=0;i<e.composites.length;i++){f.removeBody(e.composites[i],t,true)}}return e};f.removeBodyAt=function(e,t){e.bodies.splice(t,1);f.setModified(e,true,true,false);return e};f.addConstraint=function(e,t){e.constraints.push(t);f.setModified(e,true,true,false);return e};f.removeConstraint=function(e,t,n){var r=o.indexOf(e.constraints,t);if(r!==-1){f.removeConstraintAt(e,r)}if(n){for(var i=0;i<e.composites.length;i++){f.removeConstraint(e.composites[i],t,true)}}return e};f.removeConstraintAt=function(e,t){e.constraints.splice(t,1);f.setModified(e,true,true,false);return e};f.clear=function(e,t,n){if(n){for(var r=0;r<e.composites.length;r++){f.clear(e.composites[r],t,true)}}if(t){e.bodies=e.bodies.filter(function(e){return e.isStatic})}else{e.bodies.length=0}e.constraints.length=0;e.composites.length=0;f.setModified(e,true,true,false);return e};f.allBodies=function(e){var t=[].concat(e.bodies);for(var n=0;n<e.composites.length;n++)t=t.concat(f.allBodies(e.composites[n]));return t};f.allConstraints=function(e){var t=[].concat(e.constraints);for(var n=0;n<e.composites.length;n++)t=t.concat(f.allConstraints(e.composites[n]));return t};f.allComposites=function(e){var t=[].concat(e.composites);for(var n=0;n<e.composites.length;n++)t=t.concat(f.allComposites(e.composites[n]));return t};f.get=function(e,t,n){var r,i;switch(n){case"body":r=f.allBodies(e);break;case"constraint":r=f.allConstraints(e);break;case"composite":r=f.allComposites(e).concat(e);break}if(!r)return null;i=r.filter(function(e){return e.id.toString()===t.toString()});return i.length===0?null:i[0]};f.move=function(e,t,n){f.remove(e,t);f.add(n,t);return e};f.rebase=function(e){var t=f.allBodies(e).concat(f.allConstraints(e)).concat(f.allComposites(e));for(var n=0;n<t.length;n++){t[n].id=o.nextId()}f.setModified(e,true,true,false);return e};f.translate=function(e,t,n){var r=n?f.allBodies(e):e.bodies;for(var i=0;i<r.length;i++){d.translate(r[i],t)}f.setModified(e,true,true,false);return e};f.rotate=function(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=r?f.allBodies(e):e.bodies;for(var s=0;s<a.length;s++){var u=a[s],c=u.position.x-n.x,l=u.position.y-n.y;d.setPosition(u,{x:n.x+(c*i-l*o),y:n.y+(c*o+l*i)});d.rotate(u,t)}f.setModified(e,true,true,false);return e};f.scale=function(e,t,n,r,i){var o=i?f.allBodies(e):e.bodies;for(var a=0;a<o.length;a++){var s=o[a],u=s.position.x-r.x,c=s.position.y-r.y;d.setPosition(s,{x:r.x+u*t,y:r.y+c*n});d.scale(s,t,n)}f.setModified(e,true,true,false);return e};f.bounds=function(e){var t=f.allBodies(e),n=[];for(var r=0;r<t.length;r+=1){var i=t[r];n.push(i.bounds.min,i.bounds.max)}return s.create(n)}})()},{"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"./Body":1}],3:[function(e,t,n){var r={};t.exports=r;var i=e("./Composite");var o=e("../constraint/Constraint");var a=e("../core/Common");(function(){r.create=function(e){var t=i.create();var n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-Infinity,y:-Infinity},max:{x:Infinity,y:Infinity}}};return a.extend(t,n,e)}})()},{"../constraint/Constraint":12,"../core/Common":14,"./Composite":2}],4:[function(e,t,n){var r={};t.exports=r;(function(){r.create=function(e){return{id:r.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}};r.id=function(e){return e.body.id+"_"+e.index}})()},{}],5:[function(e,t,n){var v={};t.exports=v;var g=e("./SAT");var y=e("./Pair");var m=e("../geometry/Bounds");(function(){v.collisions=function(e,t){var n=[],r=t.pairs.table;for(var i=0;i<e.length;i++){var o=e[i][0],a=e[i][1];if((o.isStatic||o.isSleeping)&&(a.isStatic||a.isSleeping))continue;if(!v.canCollide(o.collisionFilter,a.collisionFilter))continue;if(m.overlaps(o.bounds,a.bounds)){for(var s=o.parts.length>1?1:0;s<o.parts.length;s++){var u=o.parts[s];for(var c=a.parts.length>1?1:0;c<a.parts.length;c++){var l=a.parts[c];if(u===o&&l===a||m.overlaps(u.bounds,l.bounds)){var f=y.id(u,l),d=r[f],h;if(d&&d.isActive){h=d.collision}else{h=null}var p=g.collides(u,l,h);if(p.collided){n.push(p)}}}}}}return n};v.canCollide=function(e,t){if(e.group===t.group&&e.group!==0)return e.group>0;return(e.mask&t.category)!==0&&(t.mask&e.category)!==0}})()},{"../geometry/Bounds":26,"./Pair":7,"./SAT":11}],6:[function(e,t,n){var y={};t.exports=y;var s=e("./Pair");var r=e("./Detector");var u=e("../core/Common");(function(){y.create=function(e){var t={controller:y,detector:r.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return u.extend(t,e)};y.update=function(e,t,n,r){var i,o,a,s=n.world,u=e.buckets,c,l,f=false;for(i=0;i<t.length;i++){var d=t[i];if(d.isSleeping&&!r)continue;if(d.bounds.max.x<s.bounds.min.x||d.bounds.min.x>s.bounds.max.x||d.bounds.max.y<s.bounds.min.y||d.bounds.min.y>s.bounds.max.y)continue;var h=y._getRegion(e,d);if(!d.region||h.id!==d.region.id||r){if(!d.region||r)d.region=h;var p=y._regionUnion(h,d.region);for(o=p.startCol;o<=p.endCol;o++){for(a=p.startRow;a<=p.endRow;a++){l=y._getBucketId(o,a);c=u[l];var v=o>=h.startCol&&o<=h.endCol&&a>=h.startRow&&a<=h.endRow;var g=o>=d.region.startCol&&o<=d.region.endCol&&a>=d.region.startRow&&a<=d.region.endRow;if(!v&&g){if(g){if(c)y._bucketRemoveBody(e,c,d)}}if(d.region===h||v&&!g||r){if(!c)c=y._createBucket(u,l);y._bucketAddBody(e,c,d)}}}d.region=h;f=true}}if(f)e.pairsList=y._createActivePairsList(e)};y.clear=function(e){e.buckets={};e.pairs={};e.pairsList=[]};y._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),r=Math.max(e.endCol,t.endCol),i=Math.min(e.startRow,t.startRow),o=Math.max(e.endRow,t.endRow);return y._createRegion(n,r,i,o)};y._getRegion=function(e,t){var n=t.bounds,r=Math.floor(n.min.x/e.bucketWidth),i=Math.floor(n.max.x/e.bucketWidth),o=Math.floor(n.min.y/e.bucketHeight),a=Math.floor(n.max.y/e.bucketHeight);return y._createRegion(r,i,o,a)};y._createRegion=function(e,t,n,r){return{id:e+","+t+","+n+","+r,startCol:e,endCol:t,startRow:n,endRow:r}};y._getBucketId=function(e,t){return"C"+e+"R"+t};y._createBucket=function(e,t){var n=e[t]=[];return n};y._bucketAddBody=function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(n.id===i.id||n.isStatic&&i.isStatic)continue;var o=s.id(n,i),a=e.pairs[o];if(a){a[2]+=1}else{e.pairs[o]=[n,i,1]}}t.push(n)};y._bucketRemoveBody=function(e,t,n){t.splice(u.indexOf(t,n),1);for(var r=0;r<t.length;r++){var i=t[r],o=s.id(n,i),a=e.pairs[o];if(a)a[2]-=1}};y._createActivePairsList=function(e){var t,n,r=[];t=u.keys(e.pairs);for(var i=0;i<t.length;i++){n=e.pairs[t[i]];if(n[2]>0){r.push(n)}else{delete e.pairs[t[i]]}}return r}})()},{"../core/Common":14,"./Detector":5,"./Pair":7}],7:[function(e,t,n){var d={};t.exports=d;var h=e("./Contact");(function(){d.create=function(e,t){var n=e.bodyA,r=e.bodyB,i=e.parentA,o=e.parentB;var a={id:d.id(n,r),bodyA:n,bodyB:r,contacts:{},activeContacts:[],separation:0,isActive:true,isSensor:n.isSensor||r.isSensor,timeCreated:t,timeUpdated:t,inverseMass:i.inverseMass+o.inverseMass,friction:Math.min(i.friction,o.friction),frictionStatic:Math.max(i.frictionStatic,o.frictionStatic),restitution:Math.max(i.restitution,o.restitution),slop:Math.max(i.slop,o.slop)};d.update(a,e,t);return a};d.update=function(e,t,n){var r=e.contacts,i=t.supports,o=e.activeContacts,a=t.parentA,s=t.parentB;e.collision=t;e.inverseMass=a.inverseMass+s.inverseMass;e.friction=Math.min(a.friction,s.friction);e.frictionStatic=Math.max(a.frictionStatic,s.frictionStatic);e.restitution=Math.max(a.restitution,s.restitution);e.slop=Math.max(a.slop,s.slop);o.length=0;if(t.collided){for(var u=0;u<i.length;u++){var c=i[u],l=h.id(c),f=r[l];if(f){o.push(f)}else{o.push(r[l]=h.create(c))}}e.separation=t.depth;d.setActive(e,true,n)}else{if(e.isActive===true)d.setActive(e,false,n)}};d.setActive=function(e,t,n){if(t){e.isActive=true;e.timeUpdated=n}else{e.isActive=false;e.activeContacts.length=0}};d.id=function(e,t){if(e.id<t.id){return"A"+e.id+"B"+t.id}else{return"A"+t.id+"B"+e.id}}})()},{"./Contact":4}],8:[function(e,t,n){var c={};t.exports=c;var h=e("./Pair");var p=e("../core/Common");(function(){c._pairMaxIdleLife=1e3;c.create=function(e){return p.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)};c.update=function(e,t,n){var r=e.list,i=e.table,o=e.collisionStart,a=e.collisionEnd,s=e.collisionActive,u=[],c,l,f,d;o.length=0;a.length=0;s.length=0;for(d=0;d<t.length;d++){c=t[d];if(c.collided){l=h.id(c.bodyA,c.bodyB);u.push(l);f=i[l];if(f){if(f.isActive){s.push(f)}else{o.push(f)}h.update(f,c,n)}else{f=h.create(c,n);i[l]=f;o.push(f);r.push(f)}}}for(d=0;d<r.length;d++){f=r[d];if(f.isActive&&p.indexOf(u,f.id)===-1){h.setActive(f,false,n);a.push(f)}}};c.removeOld=function(e,t){var n=e.list,r=e.table,i=[],o,a,s,u;for(u=0;u<n.length;u++){o=n[u];a=o.collision;if(a.bodyA.isSleeping||a.bodyB.isSleeping){o.timeUpdated=t;continue}if(t-o.timeUpdated>c._pairMaxIdleLife){i.push(u)}}for(u=0;u<i.length;u++){s=i[u]-u;o=n[s];delete r[o.id];n.splice(s,1)}};c.clear=function(e){e.table={};e.list.length=0;e.collisionStart.length=0;e.collisionActive.length=0;e.collisionEnd.length=0;return e}})()},{"../core/Common":14,"./Pair":7}],9:[function(e,t,n){var d={};t.exports=d;var h=e("../geometry/Vector");var u=e("./SAT");var c=e("../geometry/Bounds");var p=e("../factory/Bodies");var s=e("../geometry/Vertices");(function(){d.collides=function(e,t){var n=[];for(var r=0;r<t.length;r++){var i=t[r];if(c.overlaps(i.bounds,e.bounds)){for(var o=i.parts.length===1?0:1;o<i.parts.length;o++){var a=i.parts[o];if(c.overlaps(a.bounds,e.bounds)){var s=u.collides(a,e);if(s.collided){n.push(s);break}}}}}return n};d.ray=function(e,t,n,r){r=r||1e-100;var i=h.angle(t,n),o=h.magnitude(h.sub(t,n)),a=(n.x+t.x)*.5,s=(n.y+t.y)*.5,u=p.rectangle(a,s,o,r,{angle:i}),c=d.collides(u,e);for(var l=0;l<c.length;l+=1){var f=c[l];f.body=f.bodyB=f.bodyA}return c};d.region=function(e,t,n){var r=[];for(var i=0;i<e.length;i++){var o=e[i],a=c.overlaps(o.bounds,t);if(a&&!n||!a&&n)r.push(o)}return r};d.point=function(e,t){var n=[];for(var r=0;r<e.length;r++){var i=e[r];if(c.contains(i.bounds,t)){for(var o=i.parts.length===1?0:1;o<i.parts.length;o++){var a=i.parts[o];if(c.contains(a.bounds,t)&&s.contains(a.vertices,t)){n.push(i);break}}}}return n}})()},{"../factory/Bodies":23,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"./SAT":11}],10:[function(e,t,n){var j={};t.exports=j;var o=e("../geometry/Vertices");var N=e("../geometry/Vector");var U=e("../core/Common");var a=e("../geometry/Bounds");(function(){j._restingThresh=4;j._restingThreshTangent=6;j._positionDampen=.9;j._positionWarming=.8;j._frictionNormalMultiplier=5;j.preSolvePosition=function(e){var t,n,r;for(t=0;t<e.length;t++){n=e[t];if(!n.isActive)continue;r=n.activeContacts.length;n.collision.parentA.totalContacts+=r;n.collision.parentB.totalContacts+=r}};j.solvePosition=function(e,t){var n,r,i,o,a,s,u,c,l,f={},d=N._temp[0],h=N._temp[1],p=N._temp[2],v=N._temp[3];for(n=0;n<e.length;n++){r=e[n];if(!r.isActive||r.isSensor)continue;i=r.collision;o=i.parentA;a=i.parentB;s=i.normal;u=N.sub(N.add(a.positionImpulse,a.position,d),N.add(o.positionImpulse,N.sub(a.position,i.penetration,h),p),v);r.separation=N.dot(s,u)}for(n=0;n<e.length;n++){r=e[n];if(!r.isActive||r.isSensor)continue;i=r.collision;o=i.parentA;a=i.parentB;s=i.normal;l=(r.separation-r.slop)*t;if(o.isStatic||a.isStatic)l*=2;if(!(o.isStatic||o.isSleeping)){c=j._positionDampen/o.totalContacts;o.positionImpulse.x+=s.x*l*c;o.positionImpulse.y+=s.y*l*c}if(!(a.isStatic||a.isSleeping)){c=j._positionDampen/a.totalContacts;a.positionImpulse.x-=s.x*l*c;a.positionImpulse.y-=s.y*l*c}}};j.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.totalContacts=0;if(n.positionImpulse.x!==0||n.positionImpulse.y!==0){for(var r=0;r<n.parts.length;r++){var i=n.parts[r];o.translate(i.vertices,n.positionImpulse);a.update(i.bounds,i.vertices,n.velocity);i.position.x+=n.positionImpulse.x;i.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x;n.positionPrev.y+=n.positionImpulse.y;if(N.dot(n.positionImpulse,n.velocity)<0){n.positionImpulse.x=0;n.positionImpulse.y=0}else{n.positionImpulse.x*=j._positionWarming;n.positionImpulse.y*=j._positionWarming}}}};j.preSolveVelocity=function(e){var t,n,r,i,o,a,s,u,c,l,f,d,h,p,v=N._temp[0],g=N._temp[1];for(t=0;t<e.length;t++){r=e[t];if(!r.isActive||r.isSensor)continue;i=r.activeContacts;o=r.collision;a=o.parentA;s=o.parentB;u=o.normal;c=o.tangent;for(n=0;n<i.length;n++){l=i[n];f=l.vertex;d=l.normalImpulse;h=l.tangentImpulse;if(d!==0||h!==0){v.x=u.x*d+c.x*h;v.y=u.y*d+c.y*h;if(!(a.isStatic||a.isSleeping)){p=N.sub(f,a.position,g);a.positionPrev.x+=v.x*a.inverseMass;a.positionPrev.y+=v.y*a.inverseMass;a.anglePrev+=N.cross(p,v)*a.inverseInertia}if(!(s.isStatic||s.isSleeping)){p=N.sub(f,s.position,g);s.positionPrev.x-=v.x*s.inverseMass;s.positionPrev.y-=v.y*s.inverseMass;s.anglePrev-=N.cross(p,v)*s.inverseInertia}}}}};j.solveVelocity=function(e,t){var n=t*t,r=N._temp[0],i=N._temp[1],o=N._temp[2],a=N._temp[3],s=N._temp[4],u=N._temp[5];for(var c=0;c<e.length;c++){var l=e[c];if(!l.isActive||l.isSensor)continue;var f=l.collision,d=f.parentA,h=f.parentB,p=f.normal,v=f.tangent,g=l.activeContacts,y=1/g.length;d.velocity.x=d.position.x-d.positionPrev.x;d.velocity.y=d.position.y-d.positionPrev.y;h.velocity.x=h.position.x-h.positionPrev.x;h.velocity.y=h.position.y-h.positionPrev.y;d.angularVelocity=d.angle-d.anglePrev;h.angularVelocity=h.angle-h.anglePrev;for(var m=0;m<g.length;m++){var S=g[m],w=S.vertex,b=N.sub(w,d.position,i),x=N.sub(w,h.position,o),_=N.add(d.velocity,N.mult(N.perp(b),d.angularVelocity),a),P=N.add(h.velocity,N.mult(N.perp(x),h.angularVelocity),s),A=N.sub(_,P,u),C=N.dot(p,A);var V=N.dot(v,A),G=Math.abs(V),T=U.sign(V);var O=(1+l.restitution)*C,R=U.clamp(l.separation+C,0,1)*j._frictionNormalMultiplier;var E=V,I=Infinity;if(G>l.friction*l.frictionStatic*R*n){I=G;E=U.clamp(l.friction*T*n,-I,I)}var L=N.cross(b,p),M=N.cross(x,p),k=y/(d.inverseMass+h.inverseMass+d.inverseInertia*L*L+h.inverseInertia*M*M);O*=k;E*=k;if(C<0&&C*C>j._restingThresh*n){S.normalImpulse=0}else{var B=S.normalImpulse;S.normalImpulse=Math.min(S.normalImpulse+O,0);O=S.normalImpulse-B}if(V*V>j._restingThreshTangent*n){S.tangentImpulse=0}else{var H=S.tangentImpulse;S.tangentImpulse=U.clamp(S.tangentImpulse+E,-I,I);E=S.tangentImpulse-H}r.x=p.x*O+v.x*E;r.y=p.y*O+v.y*E;if(!(d.isStatic||d.isSleeping)){d.positionPrev.x+=r.x*d.inverseMass;d.positionPrev.y+=r.y*d.inverseMass;d.anglePrev+=N.cross(b,r)*d.inverseInertia}if(!(h.isStatic||h.isSleeping)){h.positionPrev.x-=r.x*h.inverseMass;h.positionPrev.y-=r.y*h.inverseMass;h.anglePrev-=N.cross(x,r)*h.inverseInertia}}}}})()},{"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],11:[function(e,t,n){var y={};t.exports=y;var m=e("../geometry/Vertices");var S=e("../geometry/Vector");(function(){y.collides=function(e,t,n){var r,i,o,a,s=false;if(n){var u=e.parent,c=t.parent,l=u.speed*u.speed+u.angularSpeed*u.angularSpeed+c.speed*c.speed+c.angularSpeed*c.angularSpeed;s=n&&n.collided&&l<.2;a=n}else{a={collided:false,bodyA:e,bodyB:t}}if(n&&s){var f=a.axisBody,d=f===e?t:e,h=[f.axes[n.axisNumber]];o=y._overlapAxes(f.vertices,d.vertices,h);a.reused=true;if(o.overlap<=0){a.collided=false;return a}}else{r=y._overlapAxes(e.vertices,t.vertices,e.axes);if(r.overlap<=0){a.collided=false;return a}i=y._overlapAxes(t.vertices,e.vertices,t.axes);if(i.overlap<=0){a.collided=false;return a}if(r.overlap<i.overlap){o=r;a.axisBody=e}else{o=i;a.axisBody=t}a.axisNumber=o.axisNumber}a.bodyA=e.id<t.id?e:t;a.bodyB=e.id<t.id?t:e;a.collided=true;a.depth=o.overlap;a.parentA=a.bodyA.parent;a.parentB=a.bodyB.parent;e=a.bodyA;t=a.bodyB;if(S.dot(o.axis,S.sub(t.position,e.position))<0){a.normal={x:o.axis.x,y:o.axis.y}}else{a.normal={x:-o.axis.x,y:-o.axis.y}}a.tangent=S.perp(a.normal);a.penetration=a.penetration||{};a.penetration.x=a.normal.x*a.depth;a.penetration.y=a.normal.y*a.depth;var p=y._findSupports(e,t,a.normal),v=[];if(m.contains(e.vertices,p[0]))v.push(p[0]);if(m.contains(e.vertices,p[1]))v.push(p[1]);if(v.length<2){var g=y._findSupports(t,e,S.neg(a.normal));if(m.contains(t.vertices,g[0]))v.push(g[0]);if(v.length<2&&m.contains(t.vertices,g[1]))v.push(g[1])}if(v.length<1)v=[p[0]];a.supports=v;return a};y._overlapAxes=function(e,t,n){var r=S._temp[0],i=S._temp[1],o={overlap:Number.MAX_VALUE},a,s;for(var u=0;u<n.length;u++){s=n[u];y._projectToAxis(r,e,s);y._projectToAxis(i,t,s);a=Math.min(r.max-i.min,i.max-r.min);if(a<=0){o.overlap=a;return o}if(a<o.overlap){o.overlap=a;o.axis=s;o.axisNumber=u}}return o};y._projectToAxis=function(e,t,n){var r=S.dot(t[0],n),i=r;for(var o=1;o<t.length;o+=1){var a=S.dot(t[o],n);if(a>i){i=a}else if(a<r){r=a}}e.min=r;e.max=i};y._findSupports=function(e,t,n){var r=Number.MAX_VALUE,i=S._temp[0],o=t.vertices,a=e.position,s,u,c,l;for(var f=0;f<o.length;f++){u=o[f];i.x=u.x-a.x;i.y=u.y-a.y;s=-S.dot(n,i);if(s<r){r=s;c=u}}var d=c.index-1>=0?c.index-1:o.length-1;u=o[d];i.x=u.x-a.x;i.y=u.y-a.y;r=-S.dot(n,i);l=u;var h=(c.index+1)%o.length;u=o[h];i.x=u.x-a.x;i.y=u.y-a.y;s=-S.dot(n,i);if(s<r){l=u}return[c,l]}})()},{"../geometry/Vector":28,"../geometry/Vertices":29}],12:[function(e,t,n){var x={};t.exports=x;var a=e("../geometry/Vertices");var _=e("../geometry/Vector");var s=e("../core/Sleeping");var u=e("../geometry/Bounds");var c=e("../geometry/Axes");var l=e("../core/Common");(function(){x._warming=.4;x._torqueDampen=1;x._minLength=1e-6;x.create=function(e){var t=e;if(t.bodyA&&!t.pointA)t.pointA={x:0,y:0};if(t.bodyB&&!t.pointB)t.pointB={x:0,y:0};var n=t.bodyA?_.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?_.add(t.bodyB.position,t.pointB):t.pointB,i=_.magnitude(_.sub(n,r));t.length=typeof t.length!=="undefined"?t.length:i;t.id=t.id||l.nextId();t.label=t.label||"Constraint";t.type="constraint";t.stiffness=t.stiffness||(t.length>0?1:.7);t.damping=t.damping||0;t.angularStiffness=t.angularStiffness||0;t.angleA=t.bodyA?t.bodyA.angle:t.angleA;t.angleB=t.bodyB?t.bodyB.angle:t.angleB;t.plugin={};var o={visible:true,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:true};if(t.length===0&&t.stiffness>.1){o.type="pin";o.anchors=false}else if(t.stiffness<.9){o.type="spring"}t.render=l.extend(o,t.render);return t};x.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],r=n.constraintImpulse;if(n.isStatic||r.x===0&&r.y===0&&r.angle===0){continue}n.position.x+=r.x;n.position.y+=r.y;n.angle+=r.angle}};x.solveAll=function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n],i=!r.bodyA||r.bodyA&&r.bodyA.isStatic,o=!r.bodyB||r.bodyB&&r.bodyB.isStatic;if(i||o){x.solve(e[n],t)}}for(n=0;n<e.length;n+=1){r=e[n];i=!r.bodyA||r.bodyA&&r.bodyA.isStatic;o=!r.bodyB||r.bodyB&&r.bodyB.isStatic;if(!i&&!o){x.solve(e[n],t)}}};x.solve=function(e,t){var n=e.bodyA,r=e.bodyB,i=e.pointA,o=e.pointB;if(!n&&!r)return;if(n&&!n.isStatic){_.rotate(i,n.angle-e.angleA,i);e.angleA=n.angle}if(r&&!r.isStatic){_.rotate(o,r.angle-e.angleB,o);e.angleB=r.angle}var a=i,s=o;if(n)a=_.add(n.position,i);if(r)s=_.add(r.position,o);if(!a||!s)return;var u=_.sub(a,s),c=_.magnitude(u);if(c<x._minLength){c=x._minLength}var l=(c-e.length)/c,f=e.stiffness<1?e.stiffness*t:e.stiffness,d=_.mult(u,l*f),h=(n?n.inverseMass:0)+(r?r.inverseMass:0),p=(n?n.inverseInertia:0)+(r?r.inverseInertia:0),v=h+p,g,y,m,S,w;if(e.damping){var b=_.create();m=_.div(u,c);w=_.sub(r&&_.sub(r.position,r.positionPrev)||b,n&&_.sub(n.position,n.positionPrev)||b);S=_.dot(m,w)}if(n&&!n.isStatic){y=n.inverseMass/h;n.constraintImpulse.x-=d.x*y;n.constraintImpulse.y-=d.y*y;n.position.x-=d.x*y;n.position.y-=d.y*y;if(e.damping){n.positionPrev.x-=e.damping*m.x*S*y;n.positionPrev.y-=e.damping*m.y*S*y}g=_.cross(i,d)/v*x._torqueDampen*n.inverseInertia*(1-e.angularStiffness);n.constraintImpulse.angle-=g;n.angle-=g}if(r&&!r.isStatic){y=r.inverseMass/h;r.constraintImpulse.x+=d.x*y;r.constraintImpulse.y+=d.y*y;r.position.x+=d.x*y;r.position.y+=d.y*y;if(e.damping){r.positionPrev.x+=e.damping*m.x*S*y;r.positionPrev.y+=e.damping*m.y*S*y}g=_.cross(o,d)/v*x._torqueDampen*r.inverseInertia*(1-e.angularStiffness);r.constraintImpulse.angle+=g;r.angle+=g}};x.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.constraintImpulse;if(n.isStatic||r.x===0&&r.y===0&&r.angle===0){continue}s.set(n,false);for(var i=0;i<n.parts.length;i++){var o=n.parts[i];a.translate(o.vertices,r);if(i>0){o.position.x+=r.x;o.position.y+=r.y}if(r.angle!==0){a.rotate(o.vertices,r.angle,n.position);c.rotate(o.axes,r.angle);if(i>0){_.rotateAbout(o.position,r.angle,n.position,o.position)}}u.update(o.bounds,o.vertices,n.velocity)}r.angle*=x._warming;r.x*=x._warming;r.y*=x._warming}}})()},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],13:[function(e,t,n){var a={};t.exports=a;var u=e("../geometry/Vertices");var c=e("../core/Sleeping");var s=e("../core/Mouse");var l=e("../core/Events");var f=e("../collision/Detector");var d=e("./Constraint");var h=e("../body/Composite");var p=e("../core/Common");var v=e("../geometry/Bounds");(function(){a.create=function(t,e){var n=(t?t.mouse:null)||(e?e.mouse:null);if(!n){if(t&&t.render&&t.render.canvas){n=s.create(t.render.canvas)}else if(e&&e.element){n=s.create(e.element)}else{n=s.create();p.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")}}var r=d.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}});var i={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:r,collisionFilter:{category:1,mask:4294967295,group:0}};var o=p.extend(i,e);l.on(t,"beforeUpdate",function(){var e=h.allBodies(t.world);a.update(o,e);a._triggerEvents(o)});return o};a.update=function(e,t){var n=e.mouse,r=e.constraint,i=e.body;if(n.button===0){if(!r.bodyB){for(var o=0;o<t.length;o++){i=t[o];if(v.contains(i.bounds,n.position)&&f.canCollide(i.collisionFilter,e.collisionFilter)){for(var a=i.parts.length>1?1:0;a<i.parts.length;a++){var s=i.parts[a];if(u.contains(s.vertices,n.position)){r.pointA=n.position;r.bodyB=e.body=i;r.pointB={x:n.position.x-i.position.x,y:n.position.y-i.position.y};r.angleB=i.angle;c.set(i,false);l.trigger(e,"startdrag",{mouse:n,body:i});break}}}}}else{c.set(r.bodyB,false);r.pointA=n.position}}else{r.bodyB=e.body=null;r.pointB=null;if(i)l.trigger(e,"enddrag",{mouse:n,body:i})}};a._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;if(n.mousemove)l.trigger(e,"mousemove",{mouse:t});if(n.mousedown)l.trigger(e,"mousedown",{mouse:t});if(n.mouseup)l.trigger(e,"mouseup",{mouse:t});s.clearSourceEvents(t)}})()},{"../body/Composite":2,"../collision/Detector":5,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../core/Sleeping":22,"../geometry/Bounds":26,"../geometry/Vertices":29,"./Constraint":12}],14:[function(i,e,t){(function(r){var u={};e.exports=u;(function(){u._nextId=0;u._seed=0;u._nowStartTime=+new Date;u.extend=function(e,t){var n,r,i;if(typeof t==="boolean"){n=2;i=t}else{n=1;i=true}for(var o=n;o<arguments.length;o++){var a=arguments[o];if(a){for(var s in a){if(i&&a[s]&&a[s].constructor===Object){if(!e[s]||e[s].constructor===Object){e[s]=e[s]||{};u.extend(e[s],i,a[s])}else{e[s]=a[s]}}else{e[s]=a[s]}}}}return e};u.clone=function(e,t){return u.extend({},t,e)};u.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t};u.values=function(e){var t=[];if(Object.keys){var n=Object.keys(e);for(var r=0;r<n.length;r++){t.push(e[n[r]])}return t}for(var i in e)t.push(e[i]);return t};u.get=function(e,t,n,r){t=t.split(".").slice(n,r);for(var i=0;i<t.length;i+=1){e=e[t[i]]}return e};u.set=function(e,t,n,r,i){var o=t.split(".").slice(r,i);u.get(e,t,0,-1)[o[o.length-1]]=n;return n};u.shuffle=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(u.random()*(t+1));var r=e[t];e[t]=e[n];e[n]=r}return e};u.choose=function(e){return e[Math.floor(u.random()*e.length)]};u.isElement=function(e){if(typeof HTMLElement!=="undefined"){return e instanceof HTMLElement}return!!(e&&e.nodeType&&e.nodeName)};u.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"};u.isFunction=function(e){return typeof e==="function"};u.isPlainObject=function(e){return typeof e==="object"&&e.constructor===Object};u.isString=function(e){return toString.call(e)==="[object String]"};u.clamp=function(e,t,n){if(e<t)return t;if(e>n)return n;return e};u.sign=function(e){return e<0?-1:1};u.now=function(){if(window.performance){if(window.performance.now){return window.performance.now()}else if(window.performance.webkitNow){return window.performance.webkitNow()}}return new Date-u._nowStartTime};u.random=function(e,t){e=typeof e!=="undefined"?e:0;t=typeof t!=="undefined"?t:1;return e+n()*(t-e)};var n=function(){u._seed=(u._seed*9301+49297)%233280;return u._seed/233280};u.colorToNumber=function(e){e=e.replace("#","");if(e.length==3){e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)}return parseInt(e,16)};u.logLevel=1;u.log=function(){if(console&&u.logLevel>0&&u.logLevel<=3){console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))}};u.info=function(){if(console&&u.logLevel>0&&u.logLevel<=2){console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))}};u.warn=function(){if(console&&u.logLevel>0&&u.logLevel<=3){console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))}};u.nextId=function(){return u._nextId++};u.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++){if(e[n]===t)return n}return-1};u.map=function(e,t){if(e.map){return e.map(t)}var n=[];for(var r=0;r<e.length;r+=1){n.push(t(e[r]))}return n};u.topologicalSort=function(e){var t=[],n=[],r=[];for(var i in e){if(!n[i]&&!r[i]){u._topologicalSort(i,n,r,e,t)}}return t};u._topologicalSort=function(e,t,n,r,i){var o=r[e]||[];n[e]=true;for(var a=0;a<o.length;a+=1){var s=o[a];if(n[s]){continue}if(!t[s]){u._topologicalSort(s,t,n,r,i)}}n[e]=false;t[e]=true;i.push(e)};u.chain=function(){var o=[];for(var e=0;e<arguments.length;e+=1){var t=arguments[e];if(t._chained){o.push.apply(o,t._chained)}else{o.push(t)}}var n=function(){var e,t=new Array(arguments.length);for(var n=0,r=arguments.length;n<r;n++){t[n]=arguments[n]}for(n=0;n<o.length;n+=1){var i=o[n].apply(e,t);if(typeof i!=="undefined"){e=i}}return e};n._chained=o;return n};u.chainPathBefore=function(e,t,n){return u.set(e,t,u.chain(n,u.get(e,t)))};u.chainPathAfter=function(e,t,n){return u.set(e,t,u.chain(u.get(e,t),n))};u._requireGlobal=function(e,t){var n=typeof window!=="undefined"?window[e]:typeof r!=="undefined"?r[e]:null;return n||i(t)}})()}).call(this,typeof r!=="undefined"?r:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],15:[function(e,t,n){var p={};t.exports=p;var o=e("../body/World");var v=e("./Sleeping");var g=e("../collision/Resolver");var a=e("../render/Render");var y=e("../collision/Pairs");var r=e("./Metrics");var s=e("../collision/Grid");var m=e("./Events");var S=e("../body/Composite");var w=e("../constraint/Constraint");var u=e("./Common");var c=e("../body/Body");(function(){p.create=function(e,t){t=u.isElement(e)?t:e;e=u.isElement(e)?e:null;t=t||{};if(e||t.render){u.warn("Engine.create: engine.render is deprecated (see docs)")}var n={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:false,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:s}};var r=u.extend(n,t);if(e||r.render){var i={element:e,controller:a};r.render=u.extend(i,r.render)}if(r.render&&r.render.controller){r.render=r.render.controller.create(r.render)}if(r.render){r.render.engine=r}r.world=t.world||o.create(r.world);r.pairs=y.create();r.broadphase=r.broadphase.controller.create(r.broadphase);r.metrics=r.metrics||{extended:false};return r};p.update=function(e,t,n){t=t||1e3/60;n=n||1;var r=e.world,i=e.timing,o=e.broadphase,a=[],s;i.timestamp+=t*i.timeScale;var u={timestamp:i.timestamp};m.trigger(e,"beforeUpdate",u);var c=S.allBodies(r),l=S.allConstraints(r);if(e.enableSleeping)v.update(c,i.timeScale);p._bodiesApplyGravity(c,r.gravity);p._bodiesUpdate(c,t,i.timeScale,n,r.bounds);w.preSolveAll(c);for(s=0;s<e.constraintIterations;s++){w.solveAll(l,i.timeScale)}w.postSolveAll(c);if(o.controller){if(r.isModified)o.controller.clear(o);o.controller.update(o,c,e,r.isModified);a=o.pairsList}else{a=c}if(r.isModified){S.setModified(r,false,false,true)}var f=o.detector(a,e);var d=e.pairs,h=i.timestamp;y.update(d,f,h);y.removeOld(d,h);if(e.enableSleeping)v.afterCollisions(d.list,i.timeScale);if(d.collisionStart.length>0)m.trigger(e,"collisionStart",{pairs:d.collisionStart});g.preSolvePosition(d.list);for(s=0;s<e.positionIterations;s++){g.solvePosition(d.list,i.timeScale)}g.postSolvePosition(c);w.preSolveAll(c);for(s=0;s<e.constraintIterations;s++){w.solveAll(l,i.timeScale)}w.postSolveAll(c);g.preSolveVelocity(d.list);for(s=0;s<e.velocityIterations;s++){g.solveVelocity(d.list,i.timeScale)}if(d.collisionActive.length>0)m.trigger(e,"collisionActive",{pairs:d.collisionActive});if(d.collisionEnd.length>0)m.trigger(e,"collisionEnd",{pairs:d.collisionEnd});p._bodiesClearForces(c);m.trigger(e,"afterUpdate",u);return e};p.merge=function(e,t){u.extend(e,t);if(t.world){e.world=t.world;p.clear(e);var n=S.allBodies(e.world);for(var r=0;r<n.length;r++){var i=n[r];v.set(i,false);i.id=u.nextId()}}};p.clear=function(e){var t=e.world;y.clear(e.pairs);var n=e.broadphase;if(n.controller){var r=S.allBodies(t);n.controller.clear(n);n.controller.update(n,r,e,true)}};p._bodiesClearForces=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.force.x=0;n.force.y=0;n.torque=0}};p._bodiesApplyGravity=function(e,t){var n=typeof t.scale!=="undefined"?t.scale:.001;if(t.x===0&&t.y===0||n===0){return}for(var r=0;r<e.length;r++){var i=e[r];if(i.isStatic||i.isSleeping)continue;i.force.y+=i.mass*t.y*n;i.force.x+=i.mass*t.x*n}};p._bodiesUpdate=function(e,t,n,r,i){for(var o=0;o<e.length;o++){var a=e[o];if(a.isStatic||a.isSleeping)continue;c.update(a,t,n,r)}}})()},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Grid":6,"../collision/Pairs":8,"../collision/Resolver":10,"../constraint/Constraint":12,"../render/Render":31,"./Common":14,"./Events":16,"./Metrics":18,"./Sleeping":22}],16:[function(e,t,n){var r={};t.exports=r;var c=e("./Common");(function(){r.on=function(e,t,n){var r=t.split(" "),i;for(var o=0;o<r.length;o++){i=r[o];e.events=e.events||{};e.events[i]=e.events[i]||[];e.events[i].push(n)}return n};r.off=function(e,t,n){if(!t){e.events={};return}if(typeof t==="function"){n=t;t=c.keys(e.events).join(" ")}var r=t.split(" ");for(var i=0;i<r.length;i++){var o=e.events[r[i]],a=[];if(n&&o){for(var s=0;s<o.length;s++){if(o[s]!==n)a.push(o[s])}}e.events[r[i]]=a}};r.trigger=function(e,t,n){var r,i,o,a;if(e.events){if(!n)n={};r=t.split(" ");for(var s=0;s<r.length;s++){i=r[s];o=e.events[i];if(o){a=c.clone(n,false);a.name=i;a.source=e;for(var u=0;u<o.length;u++){o[u].apply(e,[a])}}}}}})()},{"./Common":14}],17:[function(e,t,n){var r={};t.exports=r;var i=e("./Plugin");var o=e("./Common");(function(){r.name="matter-js";r.version="0.14.2";r.uses=[];r.used=[];r.use=function(){i.use(r,Array.prototype.slice.call(arguments))};r.before=function(e,t){e=e.replace(/^Matter./,"");return o.chainPathBefore(r,e,t)};r.after=function(e,t){e=e.replace(/^Matter./,"");return o.chainPathAfter(r,e,t)}})()},{"./Common":14,"./Plugin":20}],18:[function(e,t,n){},{"../body/Composite":2,"./Common":14}],19:[function(e,t,n){var i={};t.exports=i;var o=e("../core/Common");(function(){i.create=function(e){var r={};if(!e){o.log("Mouse.create: element was undefined, defaulting to document.body","warn")}r.element=e||document.body;r.absolute={x:0,y:0};r.position={x:0,y:0};r.mousedownPosition={x:0,y:0};r.mouseupPosition={x:0,y:0};r.offset={x:0,y:0};r.scale={x:1,y:1};r.wheelDelta=0;r.button=-1;r.pixelRatio=r.element.getAttribute("data-pixel-ratio")||1;r.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null};r.mousemove=function(e){var t=i._getRelativeMousePosition(e,r.element,r.pixelRatio),n=e.changedTouches;if(n){r.button=0;e.preventDefault()}r.absolute.x=t.x;r.absolute.y=t.y;r.position.x=r.absolute.x*r.scale.x+r.offset.x;r.position.y=r.absolute.y*r.scale.y+r.offset.y;r.sourceEvents.mousemove=e};r.mousedown=function(e){var t=i._getRelativeMousePosition(e,r.element,r.pixelRatio),n=e.changedTouches;if(n){r.button=0;e.preventDefault()}else{r.button=e.button}r.absolute.x=t.x;r.absolute.y=t.y;r.position.x=r.absolute.x*r.scale.x+r.offset.x;r.position.y=r.absolute.y*r.scale.y+r.offset.y;r.mousedownPosition.x=r.position.x;r.mousedownPosition.y=r.position.y;r.sourceEvents.mousedown=e};r.mouseup=function(e){var t=i._getRelativeMousePosition(e,r.element,r.pixelRatio),n=e.changedTouches;if(n){e.preventDefault()}r.button=-1;r.absolute.x=t.x;r.absolute.y=t.y;r.position.x=r.absolute.x*r.scale.x+r.offset.x;r.position.y=r.absolute.y*r.scale.y+r.offset.y;r.mouseupPosition.x=r.position.x;r.mouseupPosition.y=r.position.y;r.sourceEvents.mouseup=e};r.mousewheel=function(e){r.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.preventDefault()};i.setElement(r,r.element);return r};i.setElement=function(e,t){e.element=t;t.addEventListener("mousemove",e.mousemove);t.addEventListener("mousedown",e.mousedown);t.addEventListener("mouseup",e.mouseup);t.addEventListener("mousewheel",e.mousewheel);t.addEventListener("DOMMouseScroll",e.mousewheel);t.addEventListener("touchmove",e.mousemove);t.addEventListener("touchstart",e.mousedown);t.addEventListener("touchend",e.mouseup)};i.clearSourceEvents=function(e){e.sourceEvents.mousemove=null;e.sourceEvents.mousedown=null;e.sourceEvents.mouseup=null;e.sourceEvents.mousewheel=null;e.wheelDelta=0};i.setOffset=function(e,t){e.offset.x=t.x;e.offset.y=t.y;e.position.x=e.absolute.x*e.scale.x+e.offset.x;e.position.y=e.absolute.y*e.scale.y+e.offset.y};i.setScale=function(e,t){e.scale.x=t.x;e.scale.y=t.y;e.position.x=e.absolute.x*e.scale.x+e.offset.x;e.position.y=e.absolute.y*e.scale.y+e.offset.y};i._getRelativeMousePosition=function(e,t,n){var r=t.getBoundingClientRect(),i=document.documentElement||document.body.parentNode||document.body,o=window.pageXOffset!==undefined?window.pageXOffset:i.scrollLeft,a=window.pageYOffset!==undefined?window.pageYOffset:i.scrollTop,s=e.changedTouches,u,c;if(s){u=s[0].pageX-r.left-o;c=s[0].pageY-r.top-a}else{u=e.pageX-r.left-o;c=e.pageY-r.top-a}return{x:u/(t.clientWidth/(t.width||t.clientWidth)*n),y:c/(t.clientHeight/(t.height||t.clientHeight)*n)}}})()},{"../core/Common":14}],20:[function(e,t,n){var s={};t.exports=s;var u=e("./Common");(function(){s._registry={};s.register=function(e){if(!s.isPlugin(e)){u.warn("Plugin.register:",s.toString(e),"does not implement all required fields.")}if(e.name in s._registry){var t=s._registry[e.name],n=s.versionParse(e.version).number,r=s.versionParse(t.version).number;if(n>r){u.warn("Plugin.register:",s.toString(t),"was upgraded to",s.toString(e));s._registry[e.name]=e}else if(n<r){u.warn("Plugin.register:",s.toString(t),"can not be downgraded to",s.toString(e))}else if(e!==t){u.warn("Plugin.register:",s.toString(e),"is already registered to different plugin object")}}else{s._registry[e.name]=e}return e};s.resolve=function(e){return s._registry[s.dependencyParse(e).name]};s.toString=function(e){return typeof e==="string"?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")};s.isPlugin=function(e){return e&&e.name&&e.version&&e.install};s.isUsed=function(e,t){return e.used.indexOf(t)>-1};s.isFor=function(e,t){var n=e.for&&s.dependencyParse(e.for);return!e.for||t.name===n.name&&s.versionSatisfies(t.version,n.range)};s.use=function(e,t){e.uses=(e.uses||[]).concat(t||[]);if(e.uses.length===0){u.warn("Plugin.use:",s.toString(e),"does not specify any dependencies to install.");return}var n=s.dependencies(e),r=u.topologicalSort(n),i=[];for(var o=0;o<r.length;o+=1){if(r[o]===e.name){continue}var a=s.resolve(r[o]);if(!a){i.push(" "+r[o]);continue}if(s.isUsed(e,a.name)){continue}if(!s.isFor(a,e)){u.warn("Plugin.use:",s.toString(a),"is for",a.for,"but installed on",s.toString(e)+".");a._warned=true}if(a.install){a.install(e)}else{u.warn("Plugin.use:",s.toString(a),"does not specify an install function.");a._warned=true}if(a._warned){i.push(" "+s.toString(a));delete a._warned}else{i.push(" "+s.toString(a))}e.used.push(a.name)}if(i.length>0){u.info(i.join("  "))}};s.dependencies=function(r,e){var i=s.dependencyParse(r),t=i.name;e=e||{};if(t in e){return}r=s.resolve(r)||r;e[t]=u.map(r.uses||[],function(e){if(s.isPlugin(e)){s.register(e)}var t=s.dependencyParse(e),n=s.resolve(e);if(n&&!s.versionSatisfies(n.version,t.range)){u.warn("Plugin.dependencies:",s.toString(n),"does not satisfy",s.toString(t),"used by",s.toString(i)+".");n._warned=true;r._warned=true}else if(!n){u.warn("Plugin.dependencies:",s.toString(e),"used by",s.toString(i),"could not be resolved.");r._warned=true}return t.name});for(var n=0;n<e[t].length;n+=1){s.dependencies(e[t][n],e)}return e};s.dependencyParse=function(e){if(u.isString(e)){var t=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;if(!t.test(e)){u.warn("Plugin.dependencyParse:",e,"is not a valid dependency string.")}return{name:e.split("@")[0],range:e.split("@")[1]||"*"}}return{name:e.name,range:e.range||e.version}};s.versionParse=function(e){var t=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;if(!t.test(e)){u.warn("Plugin.versionParse:",e,"is not a valid version or range.")}var n=e.split("-");e=n[0];var r=isNaN(Number(e[0])),i=r?e.substr(1):e,o=u.map(i.split("."),function(e){return Number(e)});return{isRange:r,version:i,range:e,operator:r?e[0]:"",parts:o,prerelease:n[1],number:o[0]*1e8+o[1]*1e4+o[2]}};s.versionSatisfies=function(e,t){t=t||"*";var n=s.versionParse(t),r=n.parts,i=s.versionParse(e),o=i.parts;if(n.isRange){if(n.operator==="*"||e==="*"){return true}if(n.operator==="~"){return o[0]===r[0]&&o[1]===r[1]&&o[2]>=r[2]}if(n.operator==="^"){if(r[0]>0){return o[0]===r[0]&&i.number>=n.number}if(r[1]>0){return o[1]===r[1]&&o[2]>=r[2]}return o[2]===r[2]}}return e===t||e==="*"}})()},{"./Common":14}],21:[function(e,t,n){var o={};t.exports=o;var s=e("./Events");var u=e("./Engine");var r=e("./Common");(function(){var i,t;if(typeof window!=="undefined"){i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame;t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame}if(!i){var n;i=function(e){n=setTimeout(function(){e(r.now())},1e3/60)};t=function(){clearTimeout(n)}}o.create=function(e){var t={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:false,enabled:true};var n=r.extend(t,e);n.delta=n.delta||1e3/n.fps;n.deltaMin=n.deltaMin||1e3/n.fps;n.deltaMax=n.deltaMax||1e3/(n.fps*.5);n.fps=1e3/n.delta;return n};o.run=function(n,r){if(typeof n.positionIterations!=="undefined"){r=n;n=o.create()}(function e(t){n.frameRequestId=i(e);if(t&&n.enabled){o.tick(n,r,t)}})();return n};o.tick=function(e,t,n){var r=t.timing,i=1,o;var a={timestamp:r.timestamp};s.trigger(e,"beforeTick",a);s.trigger(t,"beforeTick",a);if(e.isFixed){o=e.delta}else{o=n-e.timePrev||e.delta;e.timePrev=n;e.deltaHistory.push(o);e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize);o=Math.min.apply(null,e.deltaHistory);o=o<e.deltaMin?e.deltaMin:o;o=o>e.deltaMax?e.deltaMax:o;i=o/e.delta;e.delta=o}if(e.timeScalePrev!==0)i*=r.timeScale/e.timeScalePrev;if(r.timeScale===0)i=0;e.timeScalePrev=r.timeScale;e.correction=i;e.frameCounter+=1;if(n-e.counterTimestamp>=1e3){e.fps=e.frameCounter*((n-e.counterTimestamp)/1e3);e.counterTimestamp=n;e.frameCounter=0}s.trigger(e,"tick",a);s.trigger(t,"tick",a);if(t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear){t.render.controller.clear(t.render)}s.trigger(e,"beforeUpdate",a);u.update(t,o,i);s.trigger(e,"afterUpdate",a);if(t.render&&t.render.controller){s.trigger(e,"beforeRender",a);s.trigger(t,"beforeRender",a);t.render.controller.world(t.render);s.trigger(e,"afterRender",a);s.trigger(t,"afterRender",a)}s.trigger(e,"afterTick",a);s.trigger(t,"afterTick",a)};o.stop=function(e){t(e.frameRequestId)};o.start=function(e,t){o.run(e,t)}})()},{"./Common":14,"./Engine":15,"./Events":16}],22:[function(e,t,n){var l={};t.exports=l;var r=e("./Events");(function(){l._motionWakeThreshold=.18;l._motionSleepThreshold=.08;l._minBias=.9;l.update=function(e,t){var n=t*t*t;for(var r=0;r<e.length;r++){var i=e[r],o=i.speed*i.speed+i.angularSpeed*i.angularSpeed;if(i.force.x!==0||i.force.y!==0){l.set(i,false);continue}var a=Math.min(i.motion,o),s=Math.max(i.motion,o);i.motion=l._minBias*a+(1-l._minBias)*s;if(i.sleepThreshold>0&&i.motion<l._motionSleepThreshold*n){i.sleepCounter+=1;if(i.sleepCounter>=i.sleepThreshold)l.set(i,true)}else if(i.sleepCounter>0){i.sleepCounter-=1}}};l.afterCollisions=function(e,t){var n=t*t*t;for(var r=0;r<e.length;r++){var i=e[r];if(!i.isActive)continue;var o=i.collision,a=o.bodyA.parent,s=o.bodyB.parent;if(a.isSleeping&&s.isSleeping||a.isStatic||s.isStatic)continue;if(a.isSleeping||s.isSleeping){var u=a.isSleeping&&!a.isStatic?a:s,c=u===a?s:a;if(!u.isStatic&&c.motion>l._motionWakeThreshold*n){l.set(u,false)}}}};l.set=function(e,t){var n=e.isSleeping;if(t){e.isSleeping=true;e.sleepCounter=e.sleepThreshold;e.positionImpulse.x=0;e.positionImpulse.y=0;e.positionPrev.x=e.position.x;e.positionPrev.y=e.position.y;e.anglePrev=e.angle;e.speed=0;e.angularSpeed=0;e.motion=0;if(!n){r.trigger(e,"sleepStart")}}else{e.isSleeping=false;e.sleepCounter=0;if(n){r.trigger(e,"sleepEnd")}}}})()},{"./Events":16}],23:[function(e,t,n){var p={};t.exports=p;var V=e("../geometry/Vertices");var G=e("../core/Common");var T=e("../body/Body");var O=e("../geometry/Bounds");var R=e("../geometry/Vector");var E;(function(){p.rectangle=function(e,t,n,r,i){i=i||{};var o={label:"Rectangle Body",position:{x:e,y:t},vertices:V.fromPath("L 0 0 L "+n+" 0 L "+n+" "+r+" L 0 "+r)};if(i.chamfer){var a=i.chamfer;o.vertices=V.chamfer(o.vertices,a.radius,a.quality,a.qualityMin,a.qualityMax);delete i.chamfer}return T.create(G.extend({},o,i))};p.trapezoid=function(e,t,n,r,i,o){o=o||{};i*=.5;var a=(1-i*2)*n;var s=n*i,u=s+a,c=u+s,l;if(i<.5){l="L 0 0 L "+s+" "+-r+" L "+u+" "+-r+" L "+c+" 0"}else{l="L 0 0 L "+u+" "+-r+" L "+c+" 0"}var f={label:"Trapezoid Body",position:{x:e,y:t},vertices:V.fromPath(l)};if(o.chamfer){var d=o.chamfer;f.vertices=V.chamfer(f.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax);delete o.chamfer}return T.create(G.extend({},f,o))};p.circle=function(e,t,n,r,i){r=r||{};var o={label:"Circle Body",circleRadius:n};i=i||25;var a=Math.ceil(Math.max(10,Math.min(i,n)));if(a%2===1)a+=1;return p.polygon(e,t,a,n,G.extend({},o,r))};p.polygon=function(e,t,n,r,i){i=i||{};if(n<3)return p.circle(e,t,r,i);var o=2*Math.PI/n,a="",s=o*.5;for(var u=0;u<n;u+=1){var c=s+u*o,l=Math.cos(c)*r,f=Math.sin(c)*r;a+="L "+l.toFixed(3)+" "+f.toFixed(3)+" "}var d={label:"Polygon Body",position:{x:e,y:t},vertices:V.fromPath(a)};if(i.chamfer){var h=i.chamfer;d.vertices=V.chamfer(d.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax);delete i.chamfer}return T.create(G.extend({},d,i))};p.fromVertices=function(e,t,n,r,i,o,a){if(!E){E=G._requireGlobal("decomp","poly-decomp")}var s,u,c,l,f,d,h,p,v;r=r||{};u=[];i=typeof i!=="undefined"?i:false;o=typeof o!=="undefined"?o:.01;a=typeof a!=="undefined"?a:10;if(!E){G.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull.")}if(!G.isArray(n[0])){n=[n]}for(p=0;p<n.length;p+=1){l=n[p];c=V.isConvex(l);if(c||!E){if(c){l=V.clockwiseSort(l)}else{l=V.hull(l)}u.push({position:{x:e,y:t},vertices:l})}else{var g=l.map(function(e){return[e.x,e.y]});E.makeCCW(g);if(o!==false)E.removeCollinearPoints(g,o);var y=E.quickDecomp(g);for(f=0;f<y.length;f++){var m=y[f];var S=m.map(function(e){return{x:e[0],y:e[1]}});if(a>0&&V.area(S)<a)continue;u.push({position:V.centre(S),vertices:S})}}}for(f=0;f<u.length;f++){u[f]=T.create(G.extend(u[f],r))}if(i){var w=5;for(f=0;f<u.length;f++){var b=u[f];for(d=f+1;d<u.length;d++){var x=u[d];if(O.overlaps(b.bounds,x.bounds)){var _=b.vertices,P=x.vertices;for(h=0;h<b.vertices.length;h++){for(v=0;v<x.vertices.length;v++){var A=R.magnitudeSquared(R.sub(_[(h+1)%_.length],P[v])),C=R.magnitudeSquared(R.sub(_[h],P[(v+1)%P.length]));if(A<w&&C<w){_[h].isInternal=true;P[v].isInternal=true}}}}}}}if(u.length>1){s=T.create(G.extend({parts:u.slice(0)},r));T.setPosition(s,{x:e,y:t});return s}else{return u[0]}}})()},{"../body/Body":1,"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],24:[function(e,t,n){var g={};t.exports=g;var m=e("../body/Composite");var y=e("../constraint/Constraint");var S=e("../core/Common");var w=e("../body/Body");var b=e("./Bodies");(function(){g.stack=function(e,t,n,r,i,o,a){var s=m.create({label:"Stack"}),u=e,c=t,l,f=0;for(var d=0;d<r;d++){var h=0;for(var p=0;p<n;p++){var v=a(u,c,p,d,l,f);if(v){var g=v.bounds.max.y-v.bounds.min.y,y=v.bounds.max.x-v.bounds.min.x;if(g>h)h=g;w.translate(v,{x:y*.5,y:g*.5});u=v.bounds.max.x+i;m.addBody(s,v);l=v;f+=1}else{u+=i}}c+=h+o;u=e}return s};g.chain=function(e,t,n,r,i,o){var a=e.bodies;for(var s=1;s<a.length;s++){var u=a[s-1],c=a[s],l=u.bounds.max.y-u.bounds.min.y,f=u.bounds.max.x-u.bounds.min.x,d=c.bounds.max.y-c.bounds.min.y,h=c.bounds.max.x-c.bounds.min.x;var p={bodyA:u,pointA:{x:f*t,y:l*n},bodyB:c,pointB:{x:h*r,y:d*i}};var v=S.extend(p,o);m.addConstraint(e,y.create(v))}e.label+=" Chain";return e};g.mesh=function(e,t,n,r,i){var o=e.bodies,a,s,u,c,l;for(a=0;a<n;a++){for(s=1;s<t;s++){u=o[s-1+a*t];c=o[s+a*t];m.addConstraint(e,y.create(S.extend({bodyA:u,bodyB:c},i)))}if(a>0){for(s=0;s<t;s++){u=o[s+(a-1)*t];c=o[s+a*t];m.addConstraint(e,y.create(S.extend({bodyA:u,bodyB:c},i)));if(r&&s>0){l=o[s-1+(a-1)*t];m.addConstraint(e,y.create(S.extend({bodyA:l,bodyB:c},i)))}if(r&&s<t-1){l=o[s+1+(a-1)*t];m.addConstraint(e,y.create(S.extend({bodyA:l,bodyB:c},i)))}}}}e.label+=" Mesh";return e};g.pyramid=function(f,e,d,h,p,t,v){return g.stack(f,e,d,h,p,t,function(e,t,n,r,i,o){var a=Math.min(h,Math.ceil(d/2)),s=i?i.bounds.max.x-i.bounds.min.x:0;if(r>a)return;r=a-r;var u=r,c=d-1-r;if(n<u||n>c)return;if(o===1){w.translate(i,{x:(n+(d%2===1?1:-1))*s,y:0})}var l=i?n*s:0;return v(f+l+n*p,t,n,r,i,o)})};g.newtonsCradle=function(e,t,n,r,i){var o=m.create({label:"Newtons Cradle"});for(var a=0;a<n;a++){var s=1.9,u=b.circle(e+a*(r*s),t+i,r,{inertia:Infinity,restitution:1,friction:0,frictionAir:1e-4,slop:1}),c=y.create({pointA:{x:e+a*(r*s),y:t},bodyB:u});m.addBody(o,u);m.addConstraint(o,c)}return o};g.car=function(e,t,n,r,i){var o=w.nextGroup(true),a=20,s=-n*.5+a,u=n*.5-a,c=0;var l=m.create({label:"Car"}),f=b.rectangle(e,t,n,r,{collisionFilter:{group:o},chamfer:{radius:r*.5},density:2e-4});var d=b.circle(e+s,t+c,i,{collisionFilter:{group:o},friction:.8});var h=b.circle(e+u,t+c,i,{collisionFilter:{group:o},friction:.8});var p=y.create({bodyB:f,pointB:{x:s,y:c},bodyA:d,stiffness:1,length:0});var v=y.create({bodyB:f,pointB:{x:u,y:c},bodyA:h,stiffness:1,length:0});m.addBody(l,f);m.addBody(l,d);m.addBody(l,h);m.addConstraint(l,p);m.addConstraint(l,v);return l};g.softBody=function(e,t,n,r,i,o,a,s,u,c){u=S.extend({inertia:Infinity},u);c=S.extend({stiffness:.2,render:{type:"line",anchors:false}},c);var l=g.stack(e,t,n,r,i,o,function(e,t){return b.circle(e,t,s,u)});g.mesh(l,n,r,a,c);l.label="Soft Body";return l}})()},{"../body/Body":1,"../body/Composite":2,"../constraint/Constraint":12,"../core/Common":14,"./Bodies":23}],25:[function(e,t,n){var r={};t.exports=r;var a=e("../geometry/Vector");var s=e("../core/Common");(function(){r.fromVertices=function(e){var t={};for(var n=0;n<e.length;n++){var r=(n+1)%e.length,i=a.normalise({x:e[r].y-e[n].y,y:e[n].x-e[r].x}),o=i.y===0?Infinity:i.x/i.y;o=o.toFixed(3).toString();t[o]=i}return s.values(t)};r.rotate=function(e,t){if(t===0)return;var n=Math.cos(t),r=Math.sin(t);for(var i=0;i<e.length;i++){var o=e[i],a;a=o.x*n-o.y*r;o.y=o.x*r+o.y*n;o.x=a}}})()},{"../core/Common":14,"../geometry/Vector":28}],26:[function(e,t,n){var r={};t.exports=r;(function(){r.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};if(e)r.update(t,e);return t};r.update=function(e,t,n){e.min.x=Infinity;e.max.x=-Infinity;e.min.y=Infinity;e.max.y=-Infinity;for(var r=0;r<t.length;r++){var i=t[r];if(i.x>e.max.x)e.max.x=i.x;if(i.x<e.min.x)e.min.x=i.x;if(i.y>e.max.y)e.max.y=i.y;if(i.y<e.min.y)e.min.y=i.y}if(n){if(n.x>0){e.max.x+=n.x}else{e.min.x+=n.x}if(n.y>0){e.max.y+=n.y}else{e.min.y+=n.y}}};r.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y};r.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y};r.translate=function(e,t){e.min.x+=t.x;e.max.x+=t.x;e.min.y+=t.y;e.max.y+=t.y};r.shift=function(e,t){var n=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=t.x;e.max.x=t.x+n;e.min.y=t.y;e.max.y=t.y+r}})()},{}],27:[function(e,t,n){var w={};t.exports=w;var r=e("../geometry/Bounds");var b=e("../core/Common");(function(){w.pathToVertices=function(e,t){if(typeof window!=="undefined"&&!("SVGPathSeg"in window)){b.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.")}var n,r,i,o,a,s,u,c,l,f,d=[],h,p,v=0,g=0,y=0;t=t||15;var m=function(e,t,n){var r=n%2===1&&n>1;if(!l||e!=l.x||t!=l.y){if(l&&r){h=l.x;p=l.y}else{h=0;p=0}var i={x:h+e,y:p+t};if(r||!l){l=i}d.push(i);g=h+e;y=p+t}};var S=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if(t==="Z")return;switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":g=e.x;y=e.y;break;case"H":g=e.x;break;case"V":y=e.y;break}m(g,y,e.pathSegType)};w._svgPathToAbsolute(e);i=e.getTotalLength();s=[];for(n=0;n<e.pathSegList.numberOfItems;n+=1)s.push(e.pathSegList.getItem(n));u=s.concat();while(v<i){f=e.getPathSegAtLength(v);a=s[f];if(a!=c){while(u.length&&u[0]!=a)S(u.shift());c=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=e.getPointAtLength(v);m(o.x,o.y,0);break}v+=t}for(n=0,r=u.length;n<r;++n)S(u[n]);return d};w._svgPathToAbsolute=function(e){var t,n,r,i,o,a,s=e.pathSegList,u=0,c=0,l=s.numberOfItems;for(var f=0;f<l;++f){var d=s.getItem(f),h=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(h)){if("x"in d)u=d.x;if("y"in d)c=d.y}else{if("x1"in d)r=u+d.x1;if("x2"in d)o=u+d.x2;if("y1"in d)i=c+d.y1;if("y2"in d)a=c+d.y2;if("x"in d)u+=d.x;if("y"in d)c+=d.y;switch(h){case"m":s.replaceItem(e.createSVGPathSegMovetoAbs(u,c),f);break;case"l":s.replaceItem(e.createSVGPathSegLinetoAbs(u,c),f);break;case"h":s.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(u),f);break;case"v":s.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),f);break;case"c":s.replaceItem(e.createSVGPathSegCurvetoCubicAbs(u,c,r,i,o,a),f);break;case"s":s.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(u,c,o,a),f);break;case"q":s.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(u,c,r,i),f);break;case"t":s.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(u,c),f);break;case"a":s.replaceItem(e.createSVGPathSegArcAbs(u,c,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),f);break;case"z":case"Z":u=t;c=n;break}}if(h=="M"||h=="m"){t=u;n=c}}}})()},{"../core/Common":14,"../geometry/Bounds":26}],28:[function(e,t,n){var r={};t.exports=r;(function(){r.create=function(e,t){return{x:e||0,y:t||0}};r.clone=function(e){return{x:e.x,y:e.y}};r.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};r.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y};r.rotate=function(e,t,n){var r=Math.cos(t),i=Math.sin(t);if(!n)n={};var o=e.x*r-e.y*i;n.y=e.x*i+e.y*r;n.x=o;return n};r.rotateAbout=function(e,t,n,r){var i=Math.cos(t),o=Math.sin(t);if(!r)r={};var a=n.x+((e.x-n.x)*i-(e.y-n.y)*o);r.y=n.y+((e.x-n.x)*o+(e.y-n.y)*i);r.x=a;return r};r.normalise=function(e){var t=r.magnitude(e);if(t===0)return{x:0,y:0};return{x:e.x/t,y:e.y/t}};r.dot=function(e,t){return e.x*t.x+e.y*t.y};r.cross=function(e,t){return e.x*t.y-e.y*t.x};r.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)};r.add=function(e,t,n){if(!n)n={};n.x=e.x+t.x;n.y=e.y+t.y;return n};r.sub=function(e,t,n){if(!n)n={};n.x=e.x-t.x;n.y=e.y-t.y;return n};r.mult=function(e,t){return{x:e.x*t,y:e.y*t}};r.div=function(e,t){return{x:e.x/t,y:e.y/t}};r.perp=function(e,t){t=t===true?-1:1;return{x:t*-e.y,y:t*e.x}};r.neg=function(e){return{x:-e.x,y:-e.y}};r.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)};r._temp=[r.create(),r.create(),r.create(),r.create(),r.create(),r.create()]})()},{}],29:[function(e,t,n){var s={};t.exports=s;var b=e("../geometry/Vector");var x=e("../core/Common");(function(){s.create=function(e,t){var n=[];for(var r=0;r<e.length;r++){var i=e[r],o={x:i.x,y:i.y,index:r,body:t,isInternal:false};n.push(o)}return n};s.fromPath=function(e,t){var n=/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,r=[];e.replace(n,function(e,t,n){r.push({x:parseFloat(t),y:parseFloat(n)})});return s.create(r,t)};s.centre=function(e){var t=s.area(e,true),n={x:0,y:0},r,i,o;for(var a=0;a<e.length;a++){o=(a+1)%e.length;r=b.cross(e[a],e[o]);i=b.mult(b.add(e[a],e[o]),r);n=b.add(n,i)}return b.div(n,6*t)};s.mean=function(e){var t={x:0,y:0};for(var n=0;n<e.length;n++){t.x+=e[n].x;t.y+=e[n].y}return b.div(t,e.length)};s.area=function(e,t){var n=0,r=e.length-1;for(var i=0;i<e.length;i++){n+=(e[r].x-e[i].x)*(e[r].y+e[i].y);r=i}if(t)return n/2;return Math.abs(n)/2};s.inertia=function(e,t){var n=0,r=0,i=e,o,a;for(var s=0;s<i.length;s++){a=(s+1)%i.length;o=Math.abs(b.cross(i[a],i[s]));n+=o*(b.dot(i[a],i[a])+b.dot(i[a],i[s])+b.dot(i[s],i[s]));r+=o}return t/6*(n/r)};s.translate=function(e,t,n){var r;if(n){for(r=0;r<e.length;r++){e[r].x+=t.x*n;e[r].y+=t.y*n}}else{for(r=0;r<e.length;r++){e[r].x+=t.x;e[r].y+=t.y}}return e};s.rotate=function(e,t,n){if(t===0)return;var r=Math.cos(t),i=Math.sin(t);for(var o=0;o<e.length;o++){var a=e[o],s=a.x-n.x,u=a.y-n.y;a.x=n.x+(s*r-u*i);a.y=n.y+(s*i+u*r)}return e};s.contains=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=e[(n+1)%e.length];if((t.x-r.x)*(i.y-r.y)+(t.y-r.y)*(r.x-i.x)>0){return false}}return true};s.scale=function(e,t,n,r){if(t===1&&n===1)return e;r=r||s.centre(e);var i,o;for(var a=0;a<e.length;a++){i=e[a];o=b.sub(i,r);e[a].x=r.x+o.x*t;e[a].y=r.y+o.y*n}return e};s.chamfer=function(e,t,n,r,i){if(typeof t==="number"){t=[t]}else{t=t||[8]}n=typeof n!=="undefined"?n:-1;r=r||2;i=i||14;var o=[];for(var a=0;a<e.length;a++){var s=e[a-1>=0?a-1:e.length-1],u=e[a],c=e[(a+1)%e.length],l=t[a<t.length?a:t.length-1];if(l===0){o.push(u);continue}var f=b.normalise({x:u.y-s.y,y:s.x-u.x});var d=b.normalise({x:c.y-u.y,y:u.x-c.x});var h=Math.sqrt(2*Math.pow(l,2)),p=b.mult(x.clone(f),l),v=b.normalise(b.mult(b.add(f,d),.5)),g=b.sub(u,b.mult(v,h));var y=n;if(n===-1){y=Math.pow(l,.32)*1.75}y=x.clamp(y,r,i);if(y%2===1)y+=1;var m=Math.acos(b.dot(f,d)),S=m/y;for(var w=0;w<y;w++){o.push(b.add(b.rotate(p,S*w),g))}}return o};s.clockwiseSort=function(e){var n=s.mean(e);e.sort(function(e,t){return b.angle(n,e)-b.angle(n,t)});return e};s.isConvex=function(e){var t=0,n=e.length,r,i,o,a;if(n<3)return null;for(r=0;r<n;r++){i=(r+1)%n;o=(r+2)%n;a=(e[i].x-e[r].x)*(e[o].y-e[i].y);a-=(e[i].y-e[r].y)*(e[o].x-e[i].x);if(a<0){t|=1}else if(a>0){t|=2}if(t===3){return false}}if(t!==0){return true}else{return null}};s.hull=function(e){var t=[],n=[],r,i;e=e.slice(0);e.sort(function(e,t){var n=e.x-t.x;return n!==0?n:e.y-t.y});for(i=0;i<e.length;i+=1){r=e[i];while(n.length>=2&&b.cross3(n[n.length-2],n[n.length-1],r)<=0){n.pop()}n.push(r)}for(i=e.length-1;i>=0;i-=1){r=e[i];while(t.length>=2&&b.cross3(t[t.length-2],t[t.length-1],r)<=0){t.pop()}t.push(r)}t.pop();n.pop();return t.concat(n)}})()},{"../core/Common":14,"../geometry/Vector":28}],30:[function(e,t,n){var r=t.exports=e("../core/Matter");r.Body=e("../body/Body");r.Composite=e("../body/Composite");r.World=e("../body/World");r.Contact=e("../collision/Contact");r.Detector=e("../collision/Detector");r.Grid=e("../collision/Grid");r.Pairs=e("../collision/Pairs");r.Pair=e("../collision/Pair");r.Query=e("../collision/Query");r.Resolver=e("../collision/Resolver");r.SAT=e("../collision/SAT");r.Constraint=e("../constraint/Constraint");r.MouseConstraint=e("../constraint/MouseConstraint");r.Common=e("../core/Common");r.Engine=e("../core/Engine");r.Events=e("../core/Events");r.Mouse=e("../core/Mouse");r.Runner=e("../core/Runner");r.Sleeping=e("../core/Sleeping");r.Plugin=e("../core/Plugin");r.Bodies=e("../factory/Bodies");r.Composites=e("../factory/Composites");r.Axes=e("../geometry/Axes");r.Bounds=e("../geometry/Bounds");r.Svg=e("../geometry/Svg");r.Vector=e("../geometry/Vector");r.Vertices=e("../geometry/Vertices");r.Render=e("../render/Render");r.RenderPixi=e("../render/RenderPixi");r.World.add=r.Composite.add;r.World.remove=r.Composite.remove;r.World.addComposite=r.Composite.addComposite;r.World.addBody=r.Composite.addBody;r.World.addConstraint=r.Composite.addConstraint;r.World.clear=r.Composite.clear;r.Engine.run=r.Runner.run},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Contact":4,"../collision/Detector":5,"../collision/Grid":6,"../collision/Pair":7,"../collision/Pairs":8,"../collision/Query":9,"../collision/Resolver":10,"../collision/SAT":11,"../constraint/Constraint":12,"../constraint/MouseConstraint":13,"../core/Common":14,"../core/Engine":15,"../core/Events":16,"../core/Matter":17,"../core/Metrics":18,"../core/Mouse":19,"../core/Plugin":20,"../core/Runner":21,"../core/Sleeping":22,"../factory/Bodies":23,"../factory/Composites":24,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Svg":27,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31,"../render/RenderPixi":32}],31:[function(e,t,n){var w={};t.exports=w;var y=e("../core/Common");var b=e("../body/Composite");var x=e("../geometry/Bounds");var _=e("../core/Events");var P=e("../collision/Grid");var A=e("../geometry/Vector");var C=e("../core/Mouse");(function(){var r,t;if(typeof window!=="undefined"){r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(y.now())},1e3/60)};t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame}w.create=function(e){var t={controller:w,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#18181d",wireframeBackground:"#0f0f13",hasBounds:!!e.bounds,enabled:true,wireframes:true,showSleeping:true,showDebug:false,showBroadphase:false,showBounds:false,showVelocity:false,showCollisions:false,showSeparations:false,showAxes:false,showPositions:false,showAngleIndicator:false,showIds:false,showShadows:false,showVertexNumbers:false,showConvexHulls:false,showInternalEdges:false,showMousePosition:false}};var n=y.extend(t,e);if(n.canvas){n.canvas.width=n.options.width||n.canvas.width;n.canvas.height=n.options.height||n.canvas.height}n.mouse=e.mouse;n.engine=e.engine;n.canvas=n.canvas||i(n.options.width,n.options.height);n.context=n.canvas.getContext("2d");n.textures={};n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.canvas.width,y:n.canvas.height}};if(n.options.pixelRatio!==1){w.setPixelRatio(n,n.options.pixelRatio)}if(y.isElement(n.element)){n.element.appendChild(n.canvas)}else if(!n.canvas.parentNode){y.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn")}return n};w.run=function(n){(function e(t){n.frameRequestId=r(e);w.world(n)})()};w.stop=function(e){t(e.frameRequestId)};w.setPixelRatio=function(e,t){var n=e.options,r=e.canvas;if(t==="auto"){t=o(r)}n.pixelRatio=t;r.setAttribute("data-pixel-ratio",t);r.width=n.width*t;r.height=n.height*t;r.style.width=n.width+"px";r.style.height=n.height+"px";e.context.scale(t,t)};w.lookAt=function(e,t,n,r){r=typeof r!=="undefined"?r:true;t=y.isArray(t)?t:[t];n=n||{x:0,y:0};var i={min:{x:Infinity,y:Infinity},max:{x:-Infinity,y:-Infinity}};for(var o=0;o<t.length;o+=1){var a=t[o],s=a.bounds?a.bounds.min:a.min||a.position||a,u=a.bounds?a.bounds.max:a.max||a.position||a;if(s&&u){if(s.x<i.min.x)i.min.x=s.x;if(u.x>i.max.x)i.max.x=u.x;if(s.y<i.min.y)i.min.y=s.y;if(u.y>i.max.y)i.max.y=u.y}}var c=i.max.x-i.min.x+2*n.x,l=i.max.y-i.min.y+2*n.y,f=e.canvas.height,d=e.canvas.width,h=d/f,p=c/l,v=1,g=1;if(p>h){g=p/h}else{v=h/p}e.options.hasBounds=true;e.bounds.min.x=i.min.x;e.bounds.max.x=i.min.x+c*v;e.bounds.min.y=i.min.y;e.bounds.max.y=i.min.y+l*g;if(r){e.bounds.min.x+=c*.5-c*v*.5;e.bounds.max.x+=c*.5-c*v*.5;e.bounds.min.y+=l*.5-l*g*.5;e.bounds.max.y+=l*.5-l*g*.5}e.bounds.min.x-=n.x;e.bounds.max.x-=n.x;e.bounds.min.y-=n.y;e.bounds.max.y-=n.y;if(e.mouse){C.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height});C.setOffset(e.mouse,e.bounds.min)}};w.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,r=t/e.options.width,i=n/e.options.height;e.context.scale(1/r,1/i);e.context.translate(-e.bounds.min.x,-e.bounds.min.y)};w.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)};w.world=function(e){var t=e.engine,n=t.world,r=e.canvas,i=e.context,o=e.options,a=b.allBodies(n),s=b.allConstraints(n),u=o.wireframes?o.wireframeBackground:o.background,c=[],l=[],f;var d={timestamp:t.timing.timestamp};_.trigger(e,"beforeRender",d);if(e.currentBackground!==u)S(e,u);i.globalCompositeOperation="source-in";i.fillStyle="transparent";i.fillRect(0,0,r.width,r.height);i.globalCompositeOperation="source-over";if(o.hasBounds){for(f=0;f<a.length;f++){var h=a[f];if(x.overlaps(h.bounds,e.bounds))c.push(h)}for(f=0;f<s.length;f++){var p=s[f],v=p.bodyA,g=p.bodyB,y=p.pointA,m=p.pointB;if(v)y=A.add(v.position,p.pointA);if(g)m=A.add(g.position,p.pointB);if(!y||!m)continue;if(x.contains(e.bounds,y)||x.contains(e.bounds,m))l.push(p)}w.startViewTransform(e);if(e.mouse){C.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height});C.setOffset(e.mouse,e.bounds.min)}}else{l=s;c=a}if(!o.wireframes||t.enableSleeping&&o.showSleeping){w.bodies(e,c,i)}else{if(o.showConvexHulls)w.bodyConvexHulls(e,c,i);w.bodyWireframes(e,c,i)}if(o.showBounds)w.bodyBounds(e,c,i);if(o.showAxes||o.showAngleIndicator)w.bodyAxes(e,c,i);if(o.showPositions)w.bodyPositions(e,c,i);if(o.showVelocity)w.bodyVelocity(e,c,i);if(o.showIds)w.bodyIds(e,c,i);if(o.showSeparations)w.separations(e,t.pairs.list,i);if(o.showCollisions)w.collisions(e,t.pairs.list,i);if(o.showVertexNumbers)w.vertexNumbers(e,c,i);if(o.showMousePosition)w.mousePosition(e,e.mouse,i);w.constraints(l,i);if(o.showBroadphase&&t.broadphase.controller===P)w.grid(e,t.broadphase,i);if(o.showDebug)w.debug(e,i);if(o.hasBounds){w.endViewTransform(e)}_.trigger(e,"afterRender",d)};w.debug=function(e,t){var n=t,r=e.engine,i=r.world,o=r.metrics,a=e.options,s=b.allBodies(i),u="    ";if(r.timing.timestamp-(e.debugTimestamp||0)>=500){var c="";if(o.timing){c+="fps: "+Math.round(o.timing.fps)+u}e.debugString=c;e.debugTimestamp=r.timing.timestamp}if(e.debugString){n.font="12px Arial";if(a.wireframes){n.fillStyle="rgba(255,255,255,0.5)"}else{n.fillStyle="rgba(0,0,0,0.5)"}var l=e.debugString.split("\n");for(var f=0;f<l.length;f++){n.fillText(l[f],50,50+f*18)}}};w.constraints=function(e,t){var n=t;for(var r=0;r<e.length;r++){var i=e[r];if(!i.render.visible||!i.pointA||!i.pointB)continue;var o=i.bodyA,a=i.bodyB,s,u;if(o){s=A.add(o.position,i.pointA)}else{s=i.pointA}if(i.render.type==="pin"){n.beginPath();n.arc(s.x,s.y,3,0,2*Math.PI);n.closePath()}else{if(a){u=A.add(a.position,i.pointB)}else{u=i.pointB}n.beginPath();n.moveTo(s.x,s.y);if(i.render.type==="spring"){var c=A.sub(u,s),l=A.perp(A.normalise(c)),f=Math.ceil(y.clamp(i.length/5,12,20)),d;for(var h=1;h<f;h+=1){d=h%2===0?1:-1;n.lineTo(s.x+c.x*(h/f)+l.x*d*4,s.y+c.y*(h/f)+l.y*d*4)}}n.lineTo(u.x,u.y)}if(i.render.lineWidth){n.lineWidth=i.render.lineWidth;n.strokeStyle=i.render.strokeStyle;n.stroke()}if(i.render.anchors){n.fillStyle=i.render.strokeStyle;n.beginPath();n.arc(s.x,s.y,3,0,2*Math.PI);n.arc(u.x,u.y,3,0,2*Math.PI);n.closePath();n.fill()}}};w.bodyShadows=function(e,t,n){var r=n,i=e.engine;for(var o=0;o<t.length;o++){var a=t[o];if(!a.render.visible)continue;if(a.circleRadius){r.beginPath();r.arc(a.position.x,a.position.y,a.circleRadius,0,2*Math.PI);r.closePath()}else{r.beginPath();r.moveTo(a.vertices[0].x,a.vertices[0].y);for(var s=1;s<a.vertices.length;s++){r.lineTo(a.vertices[s].x,a.vertices[s].y)}r.closePath()}var u=a.position.x-e.options.width*.5,c=a.position.y-e.options.height*.2,l=Math.abs(u)+Math.abs(c);r.shadowColor="rgba(0,0,0,0.15)";r.shadowOffsetX=.05*u;r.shadowOffsetY=.05*c;r.shadowBlur=1+12*Math.min(1,l/1e3);r.fill();r.shadowColor=null;r.shadowOffsetX=null;r.shadowOffsetY=null;r.shadowBlur=null}};w.bodies=function(e,t,n){var r=n,i=e.engine,o=e.options,a=o.showInternalEdges||!o.wireframes,s,u,c,l;for(c=0;c<t.length;c++){s=t[c];if(!s.render.visible)continue;for(l=s.parts.length>1?1:0;l<s.parts.length;l++){u=s.parts[l];if(!u.render.visible)continue;if(o.showSleeping&&s.isSleeping){r.globalAlpha=.5*u.render.opacity}else if(u.render.opacity!==1){r.globalAlpha=u.render.opacity}if(u.render.sprite&&u.render.sprite.texture&&!o.wireframes){var f=u.render.sprite,d=p(e,f.texture);r.translate(u.position.x,u.position.y);r.rotate(u.angle);r.drawImage(d,d.width*-f.xOffset*f.xScale,d.height*-f.yOffset*f.yScale,d.width*f.xScale,d.height*f.yScale);r.rotate(-u.angle);r.translate(-u.position.x,-u.position.y)}else{if(u.circleRadius){r.beginPath();r.arc(u.position.x,u.position.y,u.circleRadius,0,2*Math.PI)}else{r.beginPath();r.moveTo(u.vertices[0].x,u.vertices[0].y);for(var h=1;h<u.vertices.length;h++){if(!u.vertices[h-1].isInternal||a){r.lineTo(u.vertices[h].x,u.vertices[h].y)}else{r.moveTo(u.vertices[h].x,u.vertices[h].y)}if(u.vertices[h].isInternal&&!a){r.moveTo(u.vertices[(h+1)%u.vertices.length].x,u.vertices[(h+1)%u.vertices.length].y)}}r.lineTo(u.vertices[0].x,u.vertices[0].y);r.closePath()}if(!o.wireframes){r.fillStyle=u.render.fillStyle;if(u.render.lineWidth){r.lineWidth=u.render.lineWidth;r.strokeStyle=u.render.strokeStyle;r.stroke()}r.fill()}else{r.lineWidth=1;r.strokeStyle="#bbb";r.stroke()}}r.globalAlpha=1}}};w.bodyWireframes=function(e,t,n){var r=n,i=e.options.showInternalEdges,o,a,s,u,c;r.beginPath();for(s=0;s<t.length;s++){o=t[s];if(!o.render.visible)continue;for(c=o.parts.length>1?1:0;c<o.parts.length;c++){a=o.parts[c];r.moveTo(a.vertices[0].x,a.vertices[0].y);for(u=1;u<a.vertices.length;u++){if(!a.vertices[u-1].isInternal||i){r.lineTo(a.vertices[u].x,a.vertices[u].y)}else{r.moveTo(a.vertices[u].x,a.vertices[u].y)}if(a.vertices[u].isInternal&&!i){r.moveTo(a.vertices[(u+1)%a.vertices.length].x,a.vertices[(u+1)%a.vertices.length].y)}}r.lineTo(a.vertices[0].x,a.vertices[0].y)}}r.lineWidth=1;r.strokeStyle="#bbb";r.stroke()};w.bodyConvexHulls=function(e,t,n){var r=n,i,o,a,s,u;r.beginPath();for(a=0;a<t.length;a++){i=t[a];if(!i.render.visible||i.parts.length===1)continue;r.moveTo(i.vertices[0].x,i.vertices[0].y);for(s=1;s<i.vertices.length;s++){r.lineTo(i.vertices[s].x,i.vertices[s].y)}r.lineTo(i.vertices[0].x,i.vertices[0].y)}r.lineWidth=1;r.strokeStyle="rgba(255,255,255,0.2)";r.stroke()};w.vertexNumbers=function(e,t,n){var r=n,i,o,a;for(i=0;i<t.length;i++){var s=t[i].parts;for(a=s.length>1?1:0;a<s.length;a++){var u=s[a];for(o=0;o<u.vertices.length;o++){r.fillStyle="rgba(255,255,255,0.2)";r.fillText(i+"_"+o,u.position.x+(u.vertices[o].x-u.position.x)*.8,u.position.y+(u.vertices[o].y-u.position.y)*.8)}}}};w.mousePosition=function(e,t,n){var r=n;r.fillStyle="rgba(255,255,255,0.8)";r.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)};w.bodyBounds=function(e,t,n){var r=n,i=e.engine,o=e.options;r.beginPath();for(var a=0;a<t.length;a++){var s=t[a];if(s.render.visible){var u=t[a].parts;for(var c=u.length>1?1:0;c<u.length;c++){var l=u[c];r.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}}}if(o.wireframes){r.strokeStyle="rgba(255,255,255,0.08)"}else{r.strokeStyle="rgba(0,0,0,0.1)"}r.lineWidth=1;r.stroke()};w.bodyAxes=function(e,t,n){var r=n,i=e.engine,o=e.options,a,s,u,c;r.beginPath();for(s=0;s<t.length;s++){var l=t[s],f=l.parts;if(!l.render.visible)continue;if(o.showAxes){for(u=f.length>1?1:0;u<f.length;u++){a=f[u];for(c=0;c<a.axes.length;c++){var d=a.axes[c];r.moveTo(a.position.x,a.position.y);r.lineTo(a.position.x+d.x*20,a.position.y+d.y*20)}}}else{for(u=f.length>1?1:0;u<f.length;u++){a=f[u];for(c=0;c<a.axes.length;c++){r.moveTo(a.position.x,a.position.y);r.lineTo((a.vertices[0].x+a.vertices[a.vertices.length-1].x)/2,(a.vertices[0].y+a.vertices[a.vertices.length-1].y)/2)}}}}if(o.wireframes){r.strokeStyle="indianred";r.lineWidth=1}else{r.strokeStyle="rgba(255, 255, 255, 0.4)";r.globalCompositeOperation="overlay";r.lineWidth=2}r.stroke();r.globalCompositeOperation="source-over"};w.bodyPositions=function(e,t,n){var r=n,i=e.engine,o=e.options,a,s,u,c;r.beginPath();for(u=0;u<t.length;u++){a=t[u];if(!a.render.visible)continue;for(c=0;c<a.parts.length;c++){s=a.parts[c];r.arc(s.position.x,s.position.y,3,0,2*Math.PI,false);r.closePath()}}if(o.wireframes){r.fillStyle="indianred"}else{r.fillStyle="rgba(0,0,0,0.5)"}r.fill();r.beginPath();for(u=0;u<t.length;u++){a=t[u];if(a.render.visible){r.arc(a.positionPrev.x,a.positionPrev.y,2,0,2*Math.PI,false);r.closePath()}}r.fillStyle="rgba(255,165,0,0.8)";r.fill()};w.bodyVelocity=function(e,t,n){var r=n;r.beginPath();for(var i=0;i<t.length;i++){var o=t[i];if(!o.render.visible)continue;r.moveTo(o.position.x,o.position.y);r.lineTo(o.position.x+(o.position.x-o.positionPrev.x)*2,o.position.y+(o.position.y-o.positionPrev.y)*2)}r.lineWidth=3;r.strokeStyle="cornflowerblue";r.stroke()};w.bodyIds=function(e,t,n){var r=n,i,o;for(i=0;i<t.length;i++){if(!t[i].render.visible)continue;var a=t[i].parts;for(o=a.length>1?1:0;o<a.length;o++){var s=a[o];r.font="12px Arial";r.fillStyle="rgba(255,255,255,0.5)";r.fillText(s.id,s.position.x+10,s.position.y-10)}}};w.collisions=function(e,t,n){var r=n,i=e.options,o,a,s,u,c,l,f;r.beginPath();for(l=0;l<t.length;l++){o=t[l];if(!o.isActive)continue;a=o.collision;for(f=0;f<o.activeContacts.length;f++){var d=o.activeContacts[f],h=d.vertex;r.rect(h.x-1.5,h.y-1.5,3.5,3.5)}}if(i.wireframes){r.fillStyle="rgba(255,255,255,0.7)"}else{r.fillStyle="orange"}r.fill();r.beginPath();for(l=0;l<t.length;l++){o=t[l];if(!o.isActive)continue;a=o.collision;if(o.activeContacts.length>0){var p=o.activeContacts[0].vertex.x,v=o.activeContacts[0].vertex.y;if(o.activeContacts.length===2){p=(o.activeContacts[0].vertex.x+o.activeContacts[1].vertex.x)/2;v=(o.activeContacts[0].vertex.y+o.activeContacts[1].vertex.y)/2}if(a.bodyB===a.supports[0].body||a.bodyA.isStatic===true){r.moveTo(p-a.normal.x*8,v-a.normal.y*8)}else{r.moveTo(p+a.normal.x*8,v+a.normal.y*8)}r.lineTo(p,v)}}if(i.wireframes){r.strokeStyle="rgba(255,165,0,0.7)"}else{r.strokeStyle="orange"}r.lineWidth=1;r.stroke()};w.separations=function(e,t,n){var r=n,i=e.options,o,a,s,u,c,l,f;r.beginPath();for(l=0;l<t.length;l++){o=t[l];if(!o.isActive)continue;a=o.collision;u=a.bodyA;c=a.bodyB;var d=1;if(!c.isStatic&&!u.isStatic)d=.5;if(c.isStatic)d=0;r.moveTo(c.position.x,c.position.y);r.lineTo(c.position.x-a.penetration.x*d,c.position.y-a.penetration.y*d);d=1;if(!c.isStatic&&!u.isStatic)d=.5;if(u.isStatic)d=0;r.moveTo(u.position.x,u.position.y);r.lineTo(u.position.x+a.penetration.x*d,u.position.y+a.penetration.y*d)}if(i.wireframes){r.strokeStyle="rgba(255,165,0,0.5)"}else{r.strokeStyle="orange"}r.stroke()};w.grid=function(e,t,n){var r=n,i=e.options;if(i.wireframes){r.strokeStyle="rgba(255,180,0,0.1)"}else{r.strokeStyle="rgba(255,180,0,0.5)"}r.beginPath();var o=y.keys(t.buckets);for(var a=0;a<o.length;a++){var s=o[a];if(t.buckets[s].length<2)continue;var u=s.split(/C|R/);r.rect(.5+parseInt(u[1],10)*t.bucketWidth,.5+parseInt(u[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}r.lineWidth=1;r.stroke()};w.inspector=function(e,t){var n=e.engine,r=e.selected,i=e.render,o=i.options,a;if(o.hasBounds){var s=i.bounds.max.x-i.bounds.min.x,u=i.bounds.max.y-i.bounds.min.y,c=s/i.options.width,l=u/i.options.height;t.scale(1/c,1/l);t.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var f=0;f<r.length;f++){var d=r[f].data;t.translate(.5,.5);t.lineWidth=1;t.strokeStyle="rgba(255,165,0,0.9)";t.setLineDash([1,2]);switch(d.type){case"body":a=d.bounds;t.beginPath();t.rect(Math.floor(a.min.x-3),Math.floor(a.min.y-3),Math.floor(a.max.x-a.min.x+6),Math.floor(a.max.y-a.min.y+6));t.closePath();t.stroke();break;case"constraint":var h=d.pointA;if(d.bodyA)h=d.pointB;t.beginPath();t.arc(h.x,h.y,10,0,2*Math.PI);t.closePath();t.stroke();break}t.setLineDash([]);t.translate(-.5,-.5)}if(e.selectStart!==null){t.translate(.5,.5);t.lineWidth=1;t.strokeStyle="rgba(255,165,0,0.6)";t.fillStyle="rgba(255,165,0,0.1)";a=e.selectBounds;t.beginPath();t.rect(Math.floor(a.min.x),Math.floor(a.min.y),Math.floor(a.max.x-a.min.x),Math.floor(a.max.y-a.min.y));t.closePath();t.stroke();t.fill();t.translate(-.5,-.5)}if(o.hasBounds)t.setTransform(1,0,0,1,0,0)};var i=function(e,t){var n=document.createElement("canvas");n.width=e;n.height=t;n.oncontextmenu=function(){return false};n.onselectstart=function(){return false};return n};var o=function(e){var t=e.getContext("2d"),n=window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/r};var p=function(e,t){var n=e.textures[t];if(n)return n;n=e.textures[t]=new Image;n.src=t;return n};var S=function(e,t){var n=t;if(/(jpg|gif|png)$/.test(t))n="url("+t+")";e.canvas.style.background=n;e.canvas.style.backgroundSize="contain";e.currentBackground=t}})()},{"../body/Composite":2,"../collision/Grid":6,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../geometry/Bounds":26,"../geometry/Vector":28}],32:[function(e,t,n){var w={};t.exports=w;var b=e("../geometry/Bounds");var x=e("../body/Composite");var h=e("../core/Common");var i=e("../core/Events");var _=e("../geometry/Vector");(function(){var r,t;if(typeof window!=="undefined"){r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(h.now())},1e3/60)};t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame}w.create=function(e){h.warn("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)");var t={controller:w,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:false,enabled:true,wireframes:true,showSleeping:true,showDebug:false,showBroadphase:false,showBounds:false,showVelocity:false,showCollisions:false,showAxes:false,showPositions:false,showAngleIndicator:false,showIds:false,showShadows:false}};var n=h.extend(t,e),r=!n.options.wireframes&&n.options.background==="transparent";n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:r,antialias:true,backgroundColor:e.background};n.mouse=e.mouse;n.engine=e.engine;n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions);n.container=n.container||new PIXI.Container;n.spriteContainer=n.spriteContainer||new PIXI.Container;n.canvas=n.canvas||n.renderer.view;n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}};i.on(n.engine,"beforeUpdate",function(){w.clear(n)});n.textures={};n.sprites={};n.primitives={};n.container.addChild(n.spriteContainer);if(h.isElement(n.element)){n.element.appendChild(n.canvas)}else{h.warn('No "render.element" passed, "render.canvas" was not inserted into document.')}n.canvas.oncontextmenu=function(){return false};n.canvas.onselectstart=function(){return false};return n};w.run=function(n){(function e(t){n.frameRequestId=r(e);w.world(n)})()};w.stop=function(e){t(e.frameRequestId)};w.clear=function(e){var t=e.container,n=e.spriteContainer;while(t.children[0]){t.removeChild(t.children[0])}while(n.children[0]){n.removeChild(n.children[0])}var r=e.sprites["bg-0"];e.textures={};e.sprites={};e.primitives={};e.sprites["bg-0"]=r;if(r)t.addChildAt(r,0);e.container.addChild(e.spriteContainer);e.currentBackground=null;t.scale.set(1,1);t.position.set(0,0)};w.setBackground=function(e,t){if(e.currentBackground!==t){var n=t.indexOf&&t.indexOf("#")!==-1,r=e.sprites["bg-0"];if(n){var i=h.colorToNumber(t);e.renderer.backgroundColor=i;if(r)e.container.removeChild(r)}else{if(!r){var o=a(e,t);r=e.sprites["bg-0"]=new PIXI.Sprite(o);r.position.x=0;r.position.y=0;e.container.addChildAt(r,0)}}e.currentBackground=t}};w.world=function(e){var t=e.engine,n=t.world,r=e.renderer,i=e.container,o=e.options,a=x.allBodies(n),s=x.allConstraints(n),u=[],c;if(o.wireframes){w.setBackground(e,o.wireframeBackground)}else{w.setBackground(e,o.background)}var l=e.bounds.max.x-e.bounds.min.x,f=e.bounds.max.y-e.bounds.min.y,d=l/e.options.width,h=f/e.options.height;if(o.hasBounds){for(c=0;c<a.length;c++){var p=a[c];p.render.sprite.visible=b.overlaps(p.bounds,e.bounds)}for(c=0;c<s.length;c++){var v=s[c],g=v.bodyA,y=v.bodyB,m=v.pointA,S=v.pointB;if(g)m=_.add(g.position,v.pointA);if(y)S=_.add(y.position,v.pointB);if(!m||!S)continue;if(b.contains(e.bounds,m)||b.contains(e.bounds,S))u.push(v)}i.scale.set(1/d,1/h);i.position.set(-e.bounds.min.x*(1/d),-e.bounds.min.y*(1/h))}else{u=s}for(c=0;c<a.length;c++)w.body(e,a[c]);for(c=0;c<u.length;c++)w.constraint(e,u[c]);r.render(i)};w.constraint=function(e,t){var n=e.engine,r=t.bodyA,i=t.bodyB,o=t.pointA,a=t.pointB,s=e.container,u=t.render,c="c-"+t.id,l=e.primitives[c];if(!l)l=e.primitives[c]=new PIXI.Graphics;if(!u.visible||!t.pointA||!t.pointB){l.clear();return}if(h.indexOf(s.children,l)===-1)s.addChild(l);l.clear();l.beginFill(0,0);l.lineStyle(u.lineWidth,h.colorToNumber(u.strokeStyle),1);if(r){l.moveTo(r.position.x+o.x,r.position.y+o.y)}else{l.moveTo(o.x,o.y)}if(i){l.lineTo(i.position.x+a.x,i.position.y+a.y)}else{l.lineTo(a.x,a.y)}l.endFill()};w.body=function(e,t){var n=e.engine,r=t.render;if(!r.visible)return;if(r.sprite&&r.sprite.texture){var i="b-"+t.id,o=e.sprites[i],a=e.spriteContainer;if(!o)o=e.sprites[i]=l(e,t);if(h.indexOf(a.children,o)===-1)a.addChild(o);o.position.x=t.position.x;o.position.y=t.position.y;o.rotation=t.angle;o.scale.x=r.sprite.xScale||1;o.scale.y=r.sprite.yScale||1}else{var s="b-"+t.id,u=e.primitives[s],c=e.container;if(!u){u=e.primitives[s]=f(e,t);u.initialAngle=t.angle}if(h.indexOf(c.children,u)===-1)c.addChild(u);u.position.x=t.position.x;u.position.y=t.position.y;u.rotation=t.angle-u.initialAngle}};var l=function(e,t){var n=t.render,r=n.sprite.texture,i=a(e,r),o=new PIXI.Sprite(i);o.anchor.x=t.render.sprite.xOffset;o.anchor.y=t.render.sprite.yOffset;return o};var f=function(e,t){var n=t.render,r=e.options,i=new PIXI.Graphics,o=h.colorToNumber(n.fillStyle),a=h.colorToNumber(n.strokeStyle),s=h.colorToNumber(n.strokeStyle),u=h.colorToNumber("#bbb"),c=h.colorToNumber("#CD5C5C"),l;i.clear();for(var f=t.parts.length>1?1:0;f<t.parts.length;f++){l=t.parts[f];if(!r.wireframes){i.beginFill(o,1);i.lineStyle(n.lineWidth,a,1)}else{i.beginFill(0,0);i.lineStyle(1,u,1)}i.moveTo(l.vertices[0].x-t.position.x,l.vertices[0].y-t.position.y);for(var d=1;d<l.vertices.length;d++){i.lineTo(l.vertices[d].x-t.position.x,l.vertices[d].y-t.position.y)}i.lineTo(l.vertices[0].x-t.position.x,l.vertices[0].y-t.position.y);i.endFill();if(r.showAngleIndicator||r.showAxes){i.beginFill(0,0);if(r.wireframes){i.lineStyle(1,c,1)}else{i.lineStyle(1,s)}i.moveTo(l.position.x-t.position.x,l.position.y-t.position.y);i.lineTo((l.vertices[0].x+l.vertices[l.vertices.length-1].x)/2-t.position.x,(l.vertices[0].y+l.vertices[l.vertices.length-1].y)/2-t.position.y);i.endFill()}}return i};var a=function(e,t){var n=e.textures[t];if(!n)n=e.textures[t]=PIXI.Texture.fromImage(t);return n}})()},{"../body/Composite":2,"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"../geometry/Vector":28}]},{},[30])(30)})}).call(this,t(5))},function(e,t){(function(){"use strict";if(!("SVGPathSeg"in window)){window.SVGPathSeg=function(e,t,n){this.pathSegType=e;this.pathSegTypeAsLetter=t;this._owningPathSegList=n};window.SVGPathSeg.prototype.classname="SVGPathSeg";window.SVGPathSeg.PATHSEG_UNKNOWN=0;window.SVGPathSeg.PATHSEG_CLOSEPATH=1;window.SVGPathSeg.PATHSEG_MOVETO_ABS=2;window.SVGPathSeg.PATHSEG_MOVETO_REL=3;window.SVGPathSeg.PATHSEG_LINETO_ABS=4;window.SVGPathSeg.PATHSEG_LINETO_REL=5;window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6;window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7;window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8;window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9;window.SVGPathSeg.PATHSEG_ARC_ABS=10;window.SVGPathSeg.PATHSEG_ARC_REL=11;window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12;window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13;window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14;window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15;window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16;window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17;window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18;window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19;window.SVGPathSeg.prototype._segmentChanged=function(){if(this._owningPathSegList)this._owningPathSegList.segmentChanged(this)};window.SVGPathSegClosePath=function(e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)};window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"};window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter};window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(undefined)};window.SVGPathSegMovetoAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e);this._x=t;this._y=n};window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"};window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(undefined,this._x,this._y)};Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});window.SVGPathSegMovetoRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",e);this._x=t;this._y=n};window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"};window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(undefined,this._x,this._y)};Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});window.SVGPathSegLinetoAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",e);this._x=t;this._y=n};window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"};window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(undefined,this._x,this._y)};Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});window.SVGPathSegLinetoRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",e);this._x=t;this._y=n};window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"};window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(undefined,this._x,this._y)};Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoCubicAbs=function(e,t,n,r,i,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e);this._x=t;this._y=n;this._x1=r;this._y1=i;this._x2=o;this._y2=a};window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"};window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)};Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoCubicRel=function(e,t,n,r,i,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e);this._x=t;this._y=n;this._x1=r;this._y1=i;this._x2=o;this._y2=a};window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"};window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)};Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoQuadraticAbs=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e);this._x=t;this._y=n;this._x1=r;this._y1=i};window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"};window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y};window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,this._x,this._y,this._x1,this._y1)};Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoQuadraticRel=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e);this._x=t;this._y=n;this._x1=r;this._y1=i};window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"};window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y};window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(undefined,this._x,this._y,this._x1,this._y1)};Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e;this._segmentChanged()},enumerable:true});window.SVGPathSegArcAbs=function(e,t,n,r,i,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",e);this._x=t;this._y=n;this._r1=r;this._r2=i;this._angle=o;this._largeArcFlag=a;this._sweepFlag=s};window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"};window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y};window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)};Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e;this._segmentChanged()},enumerable:true});window.SVGPathSegArcRel=function(e,t,n,r,i,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",e);this._x=t;this._y=n;this._r1=r;this._r2=i;this._angle=o;this._largeArcFlag=a;this._sweepFlag=s};window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"};window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y};window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)};Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e;this._segmentChanged()},enumerable:true});window.SVGPathSegLinetoHorizontalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e);this._x=t};window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"};window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x};window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(undefined,this._x)};Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});window.SVGPathSegLinetoHorizontalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e);this._x=t};window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"};window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x};window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(undefined,this._x)};Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});window.SVGPathSegLinetoVerticalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e);this._y=t};window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"};window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y};window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(undefined,this._y)};Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});window.SVGPathSegLinetoVerticalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e);this._y=t};window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"};window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y};window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(undefined,this._y)};Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoCubicSmoothAbs=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e);this._x=t;this._y=n;this._x2=r;this._y2=i};window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"};window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,this._x,this._y,this._x2,this._y2)};Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoCubicSmoothRel=function(e,t,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e);this._x=t;this._y=n;this._x2=r;this._y2=i};window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"};window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,this._x,this._y,this._x2,this._y2)};Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e);this._x=t;this._y=n};window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"};window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,this._x,this._y)};Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});window.SVGPathSegCurvetoQuadraticSmoothRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e);this._x=t;this._y=n};window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype);window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"};window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,this._x,this._y)};Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e;this._segmentChanged()},enumerable:true});Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e;this._segmentChanged()},enumerable:true});window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(undefined)};window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,t){return new window.SVGPathSegMovetoAbs(undefined,e,t)};window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,t){return new window.SVGPathSegMovetoRel(undefined,e,t)};window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,t){return new window.SVGPathSegLinetoAbs(undefined,e,t)};window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,t){return new window.SVGPathSegLinetoRel(undefined,e,t)};window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,t,n,r,i,o){return new window.SVGPathSegCurvetoCubicAbs(undefined,e,t,n,r,i,o)};window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,t,n,r,i,o){return new window.SVGPathSegCurvetoCubicRel(undefined,e,t,n,r,i,o)};window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,t,n,r){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,e,t,n,r)};window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,t,n,r){return new window.SVGPathSegCurvetoQuadraticRel(undefined,e,t,n,r)};window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,t,n,r,i,o,a){return new window.SVGPathSegArcAbs(undefined,e,t,n,r,i,o,a)};window.SVGPathElement.prototype.createSVGPathSegArcRel=function(e,t,n,r,i,o,a){return new window.SVGPathSegArcRel(undefined,e,t,n,r,i,o,a)};window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new window.SVGPathSegLinetoHorizontalAbs(undefined,e)};window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new window.SVGPathSegLinetoHorizontalRel(undefined,e)};window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new window.SVGPathSegLinetoVerticalAbs(undefined,e)};window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new window.SVGPathSegLinetoVerticalRel(undefined,e)};window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,t,n,r){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,e,t,n,r)};window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,t,n,r){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,e,t,n,r)};window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,e,t)};window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,e,t)};if(!("getPathSegAtLength"in window.SVGPathElement.prototype)){window.SVGPathElement.prototype.getPathSegAtLength=function(e){if(e===undefined||!isFinite(e))throw"Invalid arguments.";var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",this.getAttribute("d"));var n=t.pathSegList.numberOfItems-1;if(n<=0)return 0;do{t.pathSegList.removeItem(n);if(e>t.getTotalLength())break;n--}while(n>0);return n}}}if(!("SVGPathSegList"in window)||!("appendItem"in window.SVGPathSegList.prototype)){window.SVGPathSegList=function(e){this._pathElement=e;this._list=this._parsePath(this._pathElement.getAttribute("d"));this._mutationObserverConfig={attributes:true,attributeFilter:["d"]};this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)};window.SVGPathSegList.prototype.classname="SVGPathSegList";Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){this._checkPathSynchronizedToList();return this._list.length},enumerable:true});Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){if(!this._pathSegList)this._pathSegList=new window.SVGPathSegList(this);return this._pathSegList},enumerable:true});Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:true});Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:true});Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:true});window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())};window.SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(!this._pathElement)return;var t=false;e.forEach(function(e){if(e.attributeName=="d")t=true});if(t)this._list=this._parsePath(this._pathElement.getAttribute("d"))};window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect();this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)};window.SVGPathSegList.prototype.segmentChanged=function(e){this._writeListToPath()};window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList();this._list.forEach(function(e){e._owningPathSegList=null});this._list=[];this._writeListToPath()};window.SVGPathSegList.prototype.initialize=function(e){this._checkPathSynchronizedToList();this._list=[e];e._owningPathSegList=this;this._writeListToPath();return e};window.SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||e<0||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"};window.SVGPathSegList.prototype.getItem=function(e){this._checkPathSynchronizedToList();this._checkValidIndex(e);return this._list[e]};window.SVGPathSegList.prototype.insertItemBefore=function(e,t){this._checkPathSynchronizedToList();if(t>this.numberOfItems)t=this.numberOfItems;if(e._owningPathSegList){e=e.clone()}this._list.splice(t,0,e);e._owningPathSegList=this;this._writeListToPath();return e};window.SVGPathSegList.prototype.replaceItem=function(e,t){this._checkPathSynchronizedToList();if(e._owningPathSegList){e=e.clone()}this._checkValidIndex(t);this._list[t]=e;e._owningPathSegList=this;this._writeListToPath();return e};window.SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList();this._checkValidIndex(e);var t=this._list[e];this._list.splice(e,1);this._writeListToPath();return t};window.SVGPathSegList.prototype.appendItem=function(e){this._checkPathSynchronizedToList();if(e._owningPathSegList){e=e.clone()}this._list.push(e);e._owningPathSegList=this;this._writeListToPath();return e};window.SVGPathSegList._pathSegArrayAsString=function(e){var t="";var n=true;e.forEach(function(e){if(n){n=false;t+=e._asPathString()}else{t+=" "+e._asPathString()}});return t};window.SVGPathSegList.prototype._parsePath=function(e){if(!e||e.length==0)return[];var r=this;var t=function(){this.pathSegList=[]};t.prototype.appendSegment=function(e){this.pathSegList.push(e)};var n=function(e){this._string=e;this._currentIndex=0;this._endIndex=this._string.length;this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN;this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var e=this._string[this._currentIndex];return e<=" "&&(e==" "||e=="\n"||e=="\t"||e=="\r"||e=="\f")};n.prototype._skipOptionalSpaces=function(){while(this._currentIndex<this._endIndex&&this._isCurrentSpace())this._currentIndex++;return this._currentIndex<this._endIndex};n.prototype._skipOptionalSpacesOrDelimiter=function(){if(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=",")return false;if(this._skipOptionalSpaces()){if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","){this._currentIndex++;this._skipOptionalSpaces()}}return this._currentIndex<this._endIndex};n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex};n.prototype.peekSegmentType=function(){var e=this._string[this._currentIndex];return this._pathSegTypeFromChar(e)};n.prototype._pathSegTypeFromChar=function(e){switch(e){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}};n.prototype._nextCommandHelper=function(e,t){if((e=="+"||e=="-"||e=="."||e>="0"&&e<="9")&&t!=window.SVGPathSeg.PATHSEG_CLOSEPATH){if(t==window.SVGPathSeg.PATHSEG_MOVETO_ABS)return window.SVGPathSeg.PATHSEG_LINETO_ABS;if(t==window.SVGPathSeg.PATHSEG_MOVETO_REL)return window.SVGPathSeg.PATHSEG_LINETO_REL;return t}return window.SVGPathSeg.PATHSEG_UNKNOWN};n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return true;var e=this.peekSegmentType();return e==window.SVGPathSeg.PATHSEG_MOVETO_ABS||e==window.SVGPathSeg.PATHSEG_MOVETO_REL};n.prototype._parseNumber=function(){var e=0;var t=0;var n=1;var r=0;var i=1;var o=1;var a=this._currentIndex;this._skipOptionalSpaces();if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+")this._currentIndex++;else if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"){this._currentIndex++;i=-1}if(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")return undefined;var s=this._currentIndex;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9")this._currentIndex++;if(this._currentIndex!=s){var u=this._currentIndex-1;var c=1;while(u>=s){t+=c*(this._string.charAt(u--)-"0");c*=10}}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){this._currentIndex++;if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return undefined;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9"){n*=10;r+=(this._string.charAt(this._currentIndex)-"0")/n;this._currentIndex+=1}}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&(this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m")){this._currentIndex++;if(this._string.charAt(this._currentIndex)=="+"){this._currentIndex++}else if(this._string.charAt(this._currentIndex)=="-"){this._currentIndex++;o=-1}if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return undefined;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9"){e*=10;e+=this._string.charAt(this._currentIndex)-"0";this._currentIndex++}}var l=t+r;l*=i;if(e)l*=Math.pow(10,o*e);if(a==this._currentIndex)return undefined;this._skipOptionalSpacesOrDelimiter();return l};n.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return undefined;var e=false;var t=this._string.charAt(this._currentIndex++);if(t=="0")e=false;else if(t=="1")e=true;else return undefined;this._skipOptionalSpacesOrDelimiter();return e};n.prototype.parseSegment=function(){var e=this._string[this._currentIndex];var t=this._pathSegTypeFromChar(e);if(t==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;t=this._nextCommandHelper(e,this._previousCommand);if(t==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else{this._currentIndex++}this._previousCommand=t;switch(t){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:this._skipOptionalSpaces();return new window.SVGPathSegClosePath(r);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(r,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(r,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(r,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(r,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(r,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(r,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(r,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(r,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type."}};var i=new t;var o=new n(e);if(!o.initialCommandIsMoveTo())return[];while(o.hasMoreData()){var a=o.parseSegment();if(!a)return[];i.appendSegment(a)}return i.pathSegList}}})()},function(e,t){e.exports={decomp:r,quickDecomp:I,isSimple:m,removeCollinearPoints:S,removeDuplicatePoints:w,makeCCW:n};function u(e,t,n){n=n||0;var r=[0,0];var i,o,a,s,u,c,l;i=e[1][1]-e[0][1];o=e[0][0]-e[1][0];a=i*e[0][0]+o*e[0][1];s=t[1][1]-t[0][1];u=t[0][0]-t[1][0];c=s*t[0][0]+u*t[0][1];l=i*u-s*o;if(!b(l,0,n)){r[0]=(u*a-o*c)/l;r[1]=(i*c-s*a)/l}return r}function i(e,t,n,r){var i=t[0]-e[0];var o=t[1]-e[1];var a=r[0]-n[0];var s=r[1]-n[1];if(a*o-s*i===0){return false}var u=(i*(n[1]-e[1])+o*(e[0]-n[0]))/(a*o-s*i);var c=(a*(e[1]-n[1])+s*(n[0]-e[0]))/(s*i-a*o);return u>=0&&u<=1&&c>=0&&c<=1}function l(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function _(e,t,n){return l(e,t,n)>0}function P(e,t,n){return l(e,t,n)>=0}function A(e,t,n){return l(e,t,n)<0}function C(e,t,n){return l(e,t,n)<=0}var f=[],d=[];function o(e,t,n,r){if(!r){return l(e,t,n)===0}else{var i=f,o=d;i[0]=t[0]-e[0];i[1]=t[1]-e[1];o[0]=n[0]-t[0];o[1]=n[1]-t[1];var a=i[0]*o[0]+i[1]*o[1],s=Math.sqrt(i[0]*i[0]+i[1]*i[1]),u=Math.sqrt(o[0]*o[0]+o[1]*o[1]),c=Math.acos(a/(s*u));return c<r}}function V(e,t){var n=t[0]-e[0];var r=t[1]-e[1];return n*n+r*r}function G(e,t){var n=e.length;return e[t<0?t%n+n:t%n]}function a(e){e.length=0}function T(e,t,n,r){for(var i=n;i<r;i++){e.push(t[i])}}function n(e){var t=0,n=e;for(var r=1;r<e.length;++r){if(n[r][1]<n[t][1]||n[r][1]===n[t][1]&&n[r][0]>n[t][0]){t=r}}if(!_(G(e,t-1),G(e,t),G(e,t+1))){s(e);return true}else{return false}}function s(e){var t=[];var n=e.length;for(var r=0;r!==n;r++){t.push(e.pop())}for(var r=0;r!==n;r++){e[r]=t[r]}}function O(e,t){return A(G(e,t-1),G(e,t),G(e,t+1))}var c=[],h=[];function p(e,t,n){var r,i,o=c,a=h;if(P(G(e,t+1),G(e,t),G(e,n))&&C(G(e,t-1),G(e,t),G(e,n))){return false}i=V(G(e,t),G(e,n));for(var s=0;s!==e.length;++s){if((s+1)%e.length===t||s===t){continue}if(P(G(e,t),G(e,n),G(e,s+1))&&C(G(e,t),G(e,n),G(e,s))){o[0]=G(e,t);o[1]=G(e,n);a[0]=G(e,s);a[1]=G(e,s+1);r=u(o,a);if(V(G(e,t),r)<i){return false}}}return true}function R(e,t,n){for(var r=0;r!==e.length;++r){if(r===t||r===n||(r+1)%e.length===t||(r+1)%e.length===n){continue}if(i(G(e,t),G(e,n),G(e,r),G(e,r+1))){return false}}return true}function v(e,t,n,r){var i=r||[];a(i);if(t<n){for(var o=t;o<=n;o++){i.push(e[o])}}else{for(var o=0;o<=n;o++){i.push(e[o])}for(var o=t;o<e.length;o++){i.push(e[o])}}return i}function g(e){var t=[],n=[],r=[],i=[];var o=Number.MAX_VALUE;for(var a=0;a<e.length;++a){if(O(e,a)){for(var s=0;s<e.length;++s){if(p(e,a,s)){n=g(v(e,a,s,i));r=g(v(e,s,a,i));for(var u=0;u<r.length;u++){n.push(r[u])}if(n.length<o){t=n;o=n.length;t.push([G(e,a),G(e,s)])}}}}}return t}function r(e){var t=g(e);if(t.length>0){return y(e,t)}else{return[e]}}function y(e,t){if(t.length===0){return[e]}if(t instanceof Array&&t.length&&t[0]instanceof Array&&t[0].length===2&&t[0][0]instanceof Array){var n=[e];for(var r=0;r<t.length;r++){var i=t[r];for(var o=0;o<n.length;o++){var a=n[o];var s=y(a,i);if(s){n.splice(o,1);n.push(s[0],s[1]);break}}}return n}else{var i=t;var r=e.indexOf(i[0]);var o=e.indexOf(i[1]);if(r!==-1&&o!==-1){return[v(e,r,o),v(e,o,r)]}else{return false}}}function m(e){var t=e,n;for(n=0;n<t.length-1;n++){for(var r=0;r<n-1;r++){if(i(t[n],t[n+1],t[r],t[r+1])){return false}}}for(n=1;n<t.length-2;n++){if(i(t[0],t[t.length-1],t[n],t[n+1])){return false}}return true}function E(e,t,n,r,i){i=i||0;var o=t[1]-e[1];var a=e[0]-t[0];var s=o*e[0]+a*e[1];var u=r[1]-n[1];var c=n[0]-r[0];var l=u*n[0]+c*n[1];var f=o*c-u*a;if(!b(f,0,i)){return[(c*s-a*l)/f,(o*l-u*s)/f]}else{return[0,0]}}function I(e,t,n,r,i,o,a){o=o||100;a=a||0;i=i||25;t=typeof t!=="undefined"?t:[];n=n||[];r=r||[];var s=[0,0],u=[0,0],c=[0,0];var l=0,f=0,d=0,h=0;var p=0,v=0,g=0;var y=[],m=[];var S=e,w=e;if(w.length<3){return t}a++;if(a>o){console.warn("quickDecomp: max level ("+o+") reached.");return t}for(var b=0;b<e.length;++b){if(O(S,b)){n.push(S[b]);l=f=Number.MAX_VALUE;for(var x=0;x<e.length;++x){if(_(G(S,b-1),G(S,b),G(S,x))&&C(G(S,b-1),G(S,b),G(S,x-1))){c=E(G(S,b-1),G(S,b),G(S,x),G(S,x-1));if(A(G(S,b+1),G(S,b),c)){d=V(S[b],c);if(d<f){f=d;u=c;v=x}}}if(_(G(S,b+1),G(S,b),G(S,x+1))&&C(G(S,b+1),G(S,b),G(S,x))){c=E(G(S,b+1),G(S,b),G(S,x),G(S,x+1));if(_(G(S,b-1),G(S,b),c)){d=V(S[b],c);if(d<l){l=d;s=c;p=x}}}}if(v===(p+1)%e.length){c[0]=(u[0]+s[0])/2;c[1]=(u[1]+s[1])/2;r.push(c);if(b<p){T(y,S,b,p+1);y.push(c);m.push(c);if(v!==0){T(m,S,v,S.length)}T(m,S,0,b+1)}else{if(b!==0){T(y,S,b,S.length)}T(y,S,0,p+1);y.push(c);m.push(c);T(m,S,v,b+1)}}else{if(v>p){p+=e.length}h=Number.MAX_VALUE;if(p<v){return t}for(var x=v;x<=p;++x){if(P(G(S,b-1),G(S,b),G(S,x))&&C(G(S,b+1),G(S,b),G(S,x))){d=V(G(S,b),G(S,x));if(d<h&&R(S,b,x)){h=d;g=x%e.length}}}if(b<g){T(y,S,b,g+1);if(g!==0){T(m,S,g,w.length)}T(m,S,0,b+1)}else{if(b!==0){T(y,S,b,w.length)}T(y,S,0,g+1);T(m,S,g,b+1)}}if(y.length<m.length){I(y,t,n,r,i,o,a);I(m,t,n,r,i,o,a)}else{I(m,t,n,r,i,o,a);I(y,t,n,r,i,o,a)}return t}}t.push(e);return t}function S(e,t){var n=0;for(var r=e.length-1;e.length>3&&r>=0;--r){if(o(G(e,r-1),G(e,r),G(e,r+1),t)){e.splice(r%e.length,1);n++}}return n}function w(e,t){for(var n=e.length-1;n>=1;--n){var r=e[n];for(var i=n-1;i>=0;--i){if(x(r,e[i],t)){e.splice(n,1);continue}}}}function b(e,t,n){n=n||0;return Math.abs(e-t)<=n}function x(e,t,n){return b(e[0],t[0],n)&&b(e[1],t[1],n)}}]]);